"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/courses/page",{

/***/ "(app-pages-browser)/./src/lib/courseService.ts":
/*!**********************************!*\
  !*** ./src/lib/courseService.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CourseService: function() { return /* binding */ CourseService; }\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/storage */ \"(app-pages-browser)/./node_modules/firebase/storage/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./firebase */ \"(app-pages-browser)/./src/lib/firebase.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n\n\n\n\nconst COLLECTION_NAME = \"courses\";\n// Helper function to clean data before sending to Firestore\nconst cleanCourseData = (data)=>{\n    const cleaned = {};\n    for (const [key, value] of Object.entries(data)){\n        // Skip undefined values and functions\n        if (value !== undefined && typeof value !== \"function\") {\n            // Handle different data types appropriately\n            if (value === null) {\n                // Convert null to appropriate default values\n                if ([\n                    \"paymentLink\",\n                    \"backgroundImage\",\n                    \"certificateImage\",\n                    \"globalStatus\",\n                    \"startDate\"\n                ].includes(key)) {\n                    cleaned[key] = \"\";\n                } else if ([\n                    \"learningOutcomes\",\n                    \"features\",\n                    \"skills\",\n                    \"requirements\",\n                    \"module\",\n                    \"highlights\",\n                    \"project\",\n                    \"programFor\"\n                ].includes(key)) {\n                    cleaned[key] = [];\n                } else if ([\n                    \"rating\",\n                    \"totalRatings\",\n                    \"enrolledStudents\",\n                    \"price\",\n                    \"originalPrice\"\n                ].includes(key)) {\n                    cleaned[key] = 0;\n                } else {\n                    cleaned[key] = \"\";\n                }\n            } else if (Array.isArray(value)) {\n                // Ensure arrays are properly formatted\n                cleaned[key] = value.filter((item)=>item !== null && item !== undefined);\n            } else if (typeof value === \"string\") {\n                // Trim strings and handle empty values\n                cleaned[key] = value.trim();\n            } else if (typeof value === \"object\" && value.constructor === Object) {\n                // Recursively clean nested objects\n                cleaned[key] = cleanCourseData(value);\n            } else {\n                cleaned[key] = value;\n            }\n        }\n    }\n    return cleaned;\n};\n// Helper function to validate course data\nconst validateCourseData = (courseData)=>{\n    const errors = [];\n    if (!courseData.title || courseData.title.trim().length === 0) {\n        errors.push(\"Title is required\");\n    }\n    if (!courseData.shortDescription || courseData.shortDescription.trim().length === 0) {\n        errors.push(\"Short description is required\");\n    }\n    if (!courseData.category || courseData.category.trim().length === 0) {\n        errors.push(\"Category is required\");\n    }\n    if (!courseData.level || ![\n        \"beginner\",\n        \"intermediate\",\n        \"advanced\"\n    ].includes(courseData.level)) {\n        errors.push(\"Valid level is required (beginner, intermediate, or advanced)\");\n    }\n    if (!courseData.language || courseData.language.trim().length === 0) {\n        errors.push(\"Language is required\");\n    }\n    if (!courseData.duration || courseData.duration.trim().length === 0) {\n        errors.push(\"Duration is required\");\n    }\n    if (!courseData.hours || courseData.hours.trim().length === 0) {\n        errors.push(\"Hours is required\");\n    }\n    if (courseData.price < 0 || isNaN(courseData.price)) {\n        errors.push(\"Price must be a valid number (0 or greater)\");\n    }\n    if (courseData.originalPrice < 0 || isNaN(courseData.originalPrice)) {\n        errors.push(\"Original price must be a valid number (0 or greater)\");\n    }\n    if (courseData.originalPrice > 0 && courseData.price > courseData.originalPrice) {\n        errors.push(\"Price cannot be greater than original price\");\n    }\n    return {\n        isValid: errors.length === 0,\n        errors\n    };\n};\nclass CourseService {\n    // Create a new course\n    static async createCourse(courseData) {\n        try {\n            var _courseData_title, _courseData_slug, _courseData_title1, _courseData_shortDescription, _courseData_category, _courseData_language, _courseData_duration, _courseData_hours, _courseData_programBy, _courseData_paymentLink, _courseData_backgroundImage, _courseData_certificateImage, _courseData_globalStatus, _courseData_startDate;\n            // Validate course data\n            const validation = validateCourseData(courseData);\n            if (!validation.isValid) {\n                return {\n                    success: false,\n                    error: \"Validation failed: \".concat(validation.errors.join(\", \"))\n                };\n            }\n            const courseId = (0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n            const courseWithMetadata = {\n                ...courseData,\n                _id: courseId,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                status: courseData.status || \"draft\",\n                // Ensure these fields are numbers\n                rating: Number(courseData.rating) || 0,\n                totalRatings: Number(courseData.totalRatings) || 0,\n                enrolledStudents: Number(courseData.enrolledStudents) || 0,\n                price: Number(courseData.price) || 0,\n                originalPrice: Number(courseData.originalPrice) || 0,\n                // Ensure arrays are properly initialized\n                learningOutcomes: Array.isArray(courseData.learningOutcomes) ? courseData.learningOutcomes.filter((item)=>item && item.trim()) : [],\n                features: Array.isArray(courseData.features) ? courseData.features.filter((item)=>item && item.trim()) : [],\n                skills: Array.isArray(courseData.skills) ? courseData.skills.filter((item)=>item && item.trim()) : [],\n                requirements: Array.isArray(courseData.requirements) ? courseData.requirements.filter((item)=>item && item.trim()) : [],\n                module: Array.isArray(courseData.module) ? courseData.module : [],\n                highlights: Array.isArray(courseData.highlights) ? courseData.highlights : [],\n                project: Array.isArray(courseData.project) ? courseData.project : [],\n                programFor: Array.isArray(courseData.programFor) ? courseData.programFor : [],\n                // Ensure strings are not undefined\n                title: ((_courseData_title = courseData.title) === null || _courseData_title === void 0 ? void 0 : _courseData_title.trim()) || \"\",\n                slug: ((_courseData_slug = courseData.slug) === null || _courseData_slug === void 0 ? void 0 : _courseData_slug.trim()) || ((_courseData_title1 = courseData.title) === null || _courseData_title1 === void 0 ? void 0 : _courseData_title1.toLowerCase().replace(/\\s+/g, \"-\").replace(/[^a-z0-9-]/g, \"\")) || \"\",\n                shortDescription: ((_courseData_shortDescription = courseData.shortDescription) === null || _courseData_shortDescription === void 0 ? void 0 : _courseData_shortDescription.trim()) || \"\",\n                category: ((_courseData_category = courseData.category) === null || _courseData_category === void 0 ? void 0 : _courseData_category.trim()) || \"\",\n                level: courseData.level || \"beginner\",\n                language: ((_courseData_language = courseData.language) === null || _courseData_language === void 0 ? void 0 : _courseData_language.trim()) || \"\",\n                duration: ((_courseData_duration = courseData.duration) === null || _courseData_duration === void 0 ? void 0 : _courseData_duration.trim()) || \"\",\n                hours: ((_courseData_hours = courseData.hours) === null || _courseData_hours === void 0 ? void 0 : _courseData_hours.trim()) || \"\",\n                programBy: ((_courseData_programBy = courseData.programBy) === null || _courseData_programBy === void 0 ? void 0 : _courseData_programBy.trim()) || \"Admin\",\n                lastUpdated: courseData.lastUpdated || new Date().toISOString(),\n                paymentLink: ((_courseData_paymentLink = courseData.paymentLink) === null || _courseData_paymentLink === void 0 ? void 0 : _courseData_paymentLink.trim()) || \"\",\n                backgroundImage: ((_courseData_backgroundImage = courseData.backgroundImage) === null || _courseData_backgroundImage === void 0 ? void 0 : _courseData_backgroundImage.trim()) || \"\",\n                certificateImage: ((_courseData_certificateImage = courseData.certificateImage) === null || _courseData_certificateImage === void 0 ? void 0 : _courseData_certificateImage.trim()) || \"\",\n                globalStatus: ((_courseData_globalStatus = courseData.globalStatus) === null || _courseData_globalStatus === void 0 ? void 0 : _courseData_globalStatus.trim()) || \"\",\n                startDate: ((_courseData_startDate = courseData.startDate) === null || _courseData_startDate === void 0 ? void 0 : _courseData_startDate.trim()) || \"\",\n                // Ensure toolsData has proper structure\n                toolsData: courseData.toolsData || {\n                    sectionTitle: \"\",\n                    category: \"\",\n                    toolsCount: \"0\",\n                    displayImage: \"\",\n                    tools: []\n                }\n            };\n            // Clean the data before sending\n            const cleanedData = cleanCourseData(courseWithMetadata);\n            console.log(\"Creating course with cleaned data:\", {\n                title: cleanedData.title,\n                status: cleanedData.status,\n                price: cleanedData.price\n            });\n            const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, COLLECTION_NAME), cleanedData);\n            const createdCourse = {\n                ...cleanedData,\n                createdAt: new Date(),\n                updatedAt: new Date()\n            };\n            return {\n                success: true,\n                data: createdCourse\n            };\n        } catch (error) {\n            console.error(\"Error creating course:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Get all courses with optional pagination and filtering\n    static async getAllCourses(options) {\n        try {\n            let q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, COLLECTION_NAME));\n            // Add filters\n            if (options === null || options === void 0 ? void 0 : options.status) {\n                q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", options.status));\n            }\n            if (options === null || options === void 0 ? void 0 : options.category) {\n                q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"category\", \"==\", options.category));\n            }\n            // Add ordering\n            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"));\n            // Add pagination\n            if (options === null || options === void 0 ? void 0 : options.limit) {\n                q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(options.limit));\n            }\n            if (options === null || options === void 0 ? void 0 : options.lastDoc) {\n                q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.startAfter)(options.lastDoc));\n            }\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const courses = [];\n            querySnapshot.forEach((doc)=>{\n                var _data_createdAt, _data_updatedAt;\n                const data = doc.data();\n                const course = {\n                    ...data,\n                    createdAt: ((_data_createdAt = data.createdAt) === null || _data_createdAt === void 0 ? void 0 : _data_createdAt.toDate()) || new Date(),\n                    updatedAt: ((_data_updatedAt = data.updatedAt) === null || _data_updatedAt === void 0 ? void 0 : _data_updatedAt.toDate()) || new Date(),\n                    // Ensure required fields have default values\n                    rating: Number(data.rating) || 0,\n                    totalRatings: Number(data.totalRatings) || 0,\n                    enrolledStudents: Number(data.enrolledStudents) || 0,\n                    price: Number(data.price) || 0,\n                    originalPrice: Number(data.originalPrice) || 0,\n                    learningOutcomes: Array.isArray(data.learningOutcomes) ? data.learningOutcomes : [],\n                    features: Array.isArray(data.features) ? data.features : [],\n                    skills: Array.isArray(data.skills) ? data.skills : [],\n                    requirements: Array.isArray(data.requirements) ? data.requirements : [],\n                    module: Array.isArray(data.module) ? data.module : [],\n                    highlights: Array.isArray(data.highlights) ? data.highlights : [],\n                    project: Array.isArray(data.project) ? data.project : [],\n                    programFor: Array.isArray(data.programFor) ? data.programFor : [],\n                    toolsData: data.toolsData || {\n                        sectionTitle: \"\",\n                        category: \"\",\n                        toolsCount: \"0\",\n                        displayImage: \"\",\n                        tools: []\n                    }\n                };\n                // Apply search filter on client side (for simplicity)\n                if (options === null || options === void 0 ? void 0 : options.searchTerm) {\n                    const searchLower = options.searchTerm.toLowerCase();\n                    const matchesSearch = course.title.toLowerCase().includes(searchLower) || course.category.toLowerCase().includes(searchLower) || course.shortDescription.toLowerCase().includes(searchLower) || course.programBy.toLowerCase().includes(searchLower);\n                    if (matchesSearch) {\n                        courses.push(course);\n                    }\n                } else {\n                    courses.push(course);\n                }\n            });\n            return {\n                success: true,\n                data: courses,\n                pagination: {\n                    total: courses.length,\n                    page: 1,\n                    pages: 1\n                }\n            };\n        } catch (error) {\n            console.error(\"Error fetching courses:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Get course by ID\n    static async getCourseById(courseId) {\n        try {\n            var _data_createdAt, _data_updatedAt;\n            if (!courseId || courseId.trim() === \"\") {\n                return {\n                    success: false,\n                    error: \"Course ID is required\"\n                };\n            }\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, COLLECTION_NAME), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"_id\", \"==\", courseId));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            if (querySnapshot.empty) {\n                return {\n                    success: false,\n                    error: \"Course not found\"\n                };\n            }\n            const doc = querySnapshot.docs[0];\n            const data = doc.data();\n            const course = {\n                ...data,\n                createdAt: ((_data_createdAt = data.createdAt) === null || _data_createdAt === void 0 ? void 0 : _data_createdAt.toDate()) || new Date(),\n                updatedAt: ((_data_updatedAt = data.updatedAt) === null || _data_updatedAt === void 0 ? void 0 : _data_updatedAt.toDate()) || new Date(),\n                // Ensure required fields have default values\n                rating: Number(data.rating) || 0,\n                totalRatings: Number(data.totalRatings) || 0,\n                enrolledStudents: Number(data.enrolledStudents) || 0,\n                price: Number(data.price) || 0,\n                originalPrice: Number(data.originalPrice) || 0,\n                learningOutcomes: Array.isArray(data.learningOutcomes) ? data.learningOutcomes : [],\n                features: Array.isArray(data.features) ? data.features : [],\n                skills: Array.isArray(data.skills) ? data.skills : [],\n                requirements: Array.isArray(data.requirements) ? data.requirements : [],\n                module: Array.isArray(data.module) ? data.module : [],\n                highlights: Array.isArray(data.highlights) ? data.highlights : [],\n                project: Array.isArray(data.project) ? data.project : [],\n                programFor: Array.isArray(data.programFor) ? data.programFor : [],\n                toolsData: data.toolsData || {\n                    sectionTitle: \"\",\n                    category: \"\",\n                    toolsCount: \"0\",\n                    displayImage: \"\",\n                    tools: []\n                }\n            };\n            return {\n                success: true,\n                data: course\n            };\n        } catch (error) {\n            console.error(\"Error fetching course:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Get course by slug\n    static async getCourseBySlug(slug) {\n        try {\n            var _data_createdAt, _data_updatedAt;\n            if (!slug || slug.trim() === \"\") {\n                return {\n                    success: false,\n                    error: \"Course slug is required\"\n                };\n            }\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, COLLECTION_NAME), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"slug\", \"==\", slug));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            if (querySnapshot.empty) {\n                return {\n                    success: false,\n                    error: \"Course not found\"\n                };\n            }\n            const doc = querySnapshot.docs[0];\n            const data = doc.data();\n            const course = {\n                ...data,\n                createdAt: ((_data_createdAt = data.createdAt) === null || _data_createdAt === void 0 ? void 0 : _data_createdAt.toDate()) || new Date(),\n                updatedAt: ((_data_updatedAt = data.updatedAt) === null || _data_updatedAt === void 0 ? void 0 : _data_updatedAt.toDate()) || new Date()\n            };\n            return {\n                success: true,\n                data: course\n            };\n        } catch (error) {\n            console.error(\"Error fetching course by slug:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Update course\n    static async updateCourse(courseId, courseData) {\n        try {\n            if (!courseId || courseId.trim() === \"\") {\n                return {\n                    success: false,\n                    error: \"Course ID is required\"\n                };\n            }\n            // Validate updated data if it contains required fields\n            if (courseData.title || courseData.shortDescription || courseData.category) {\n                const validation = validateCourseData({\n                    title: courseData.title || \"temp\",\n                    shortDescription: courseData.shortDescription || \"temp\",\n                    category: courseData.category || \"temp\",\n                    level: courseData.level || \"beginner\",\n                    language: courseData.language || \"temp\",\n                    duration: courseData.duration || \"temp\",\n                    hours: courseData.hours || \"temp\",\n                    price: courseData.price || 0,\n                    originalPrice: courseData.originalPrice || 0\n                });\n                if (!validation.isValid) {\n                    return {\n                        success: false,\n                        error: \"Validation failed: \".concat(validation.errors.join(\", \"))\n                    };\n                }\n            }\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, COLLECTION_NAME), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"_id\", \"==\", courseId));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            if (querySnapshot.empty) {\n                return {\n                    success: false,\n                    error: \"Course not found\"\n                };\n            }\n            const docRef = querySnapshot.docs[0].ref;\n            const updateData = {\n                ...courseData,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                lastUpdated: new Date().toISOString(),\n                // Ensure numeric fields are properly typed\n                ...courseData.rating !== undefined && {\n                    rating: Number(courseData.rating)\n                },\n                ...courseData.totalRatings !== undefined && {\n                    totalRatings: Number(courseData.totalRatings)\n                },\n                ...courseData.enrolledStudents !== undefined && {\n                    enrolledStudents: Number(courseData.enrolledStudents)\n                },\n                ...courseData.price !== undefined && {\n                    price: Number(courseData.price)\n                },\n                ...courseData.originalPrice !== undefined && {\n                    originalPrice: Number(courseData.originalPrice)\n                },\n                // Ensure arrays are properly filtered\n                ...courseData.learningOutcomes && {\n                    learningOutcomes: Array.isArray(courseData.learningOutcomes) ? courseData.learningOutcomes.filter((item)=>item && item.trim()) : []\n                },\n                ...courseData.features && {\n                    features: Array.isArray(courseData.features) ? courseData.features.filter((item)=>item && item.trim()) : []\n                },\n                ...courseData.skills && {\n                    skills: Array.isArray(courseData.skills) ? courseData.skills.filter((item)=>item && item.trim()) : []\n                },\n                ...courseData.requirements && {\n                    requirements: Array.isArray(courseData.requirements) ? courseData.requirements.filter((item)=>item && item.trim()) : []\n                },\n                // Update slug if title changed\n                ...courseData.title && {\n                    slug: courseData.title.toLowerCase().replace(/\\s+/g, \"-\").replace(/[^a-z0-9-]/g, \"\")\n                }\n            };\n            // Clean the data before sending\n            const cleanedData = cleanCourseData(updateData);\n            console.log(\"Updating course with cleaned data:\", {\n                courseId,\n                fieldsUpdated: Object.keys(cleanedData)\n            });\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, cleanedData);\n            // Fetch the updated course\n            const updatedCourseResponse = await this.getCourseById(courseId);\n            if (updatedCourseResponse.success) {\n                return updatedCourseResponse;\n            } else {\n                return {\n                    success: true,\n                    data: {\n                        ...courseData,\n                        _id: courseId,\n                        updatedAt: new Date()\n                    }\n                };\n            }\n        } catch (error) {\n            console.error(\"Error updating course:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Delete course\n    static async deleteCourse(courseId) {\n        try {\n            if (!courseId || courseId.trim() === \"\") {\n                return {\n                    success: false,\n                    error: \"Course ID is required\"\n                };\n            }\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, COLLECTION_NAME), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"_id\", \"==\", courseId));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            if (querySnapshot.empty) {\n                return {\n                    success: false,\n                    error: \"Course not found\"\n                };\n            }\n            const docRef = querySnapshot.docs[0].ref;\n            const courseData = querySnapshot.docs[0].data();\n            // Delete associated images from storage\n            if (courseData.backgroundImage) {\n                try {\n                    await this.deleteImage(courseData.backgroundImage);\n                } catch (imageError) {\n                    console.warn(\"Failed to delete background image:\", imageError);\n                }\n            }\n            if (courseData.certificateImage) {\n                try {\n                    await this.deleteImage(courseData.certificateImage);\n                } catch (imageError) {\n                    console.warn(\"Failed to delete certificate image:\", imageError);\n                }\n            }\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(docRef);\n            console.log(\"Course deleted successfully:\", courseId);\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error deleting course:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Bulk delete courses\n    static async deleteCourses(courseIds) {\n        try {\n            if (!courseIds || courseIds.length === 0) {\n                return {\n                    success: false,\n                    error: \"Course IDs are required\"\n                };\n            }\n            const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db);\n            let deletedCount = 0;\n            for (const courseId of courseIds){\n                const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, COLLECTION_NAME), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"_id\", \"==\", courseId));\n                const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n                if (!querySnapshot.empty) {\n                    const docRef = querySnapshot.docs[0].ref;\n                    batch.delete(docRef);\n                    deletedCount++;\n                }\n            }\n            if (deletedCount === 0) {\n                return {\n                    success: false,\n                    error: \"No courses found to delete\"\n                };\n            }\n            await batch.commit();\n            return {\n                success: true,\n                deletedCount\n            };\n        } catch (error) {\n            console.error(\"Error bulk deleting courses:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Upload image with better error handling and optimization\n    static async uploadImage(file, path) {\n        try {\n            var _file_name_split_pop;\n            // Validate file\n            if (!file) {\n                return {\n                    success: false,\n                    error: \"No file provided\"\n                };\n            }\n            if (file.size > 5 * 1024 * 1024) {\n                return {\n                    success: false,\n                    error: \"File size must be less than 5MB\"\n                };\n            }\n            const allowedTypes = [\n                \"image/jpeg\",\n                \"image/jpg\",\n                \"image/png\",\n                \"image/webp\",\n                \"image/gif\"\n            ];\n            if (!allowedTypes.includes(file.type)) {\n                return {\n                    success: false,\n                    error: \"Only JPEG, PNG, WebP, and GIF images are allowed\"\n                };\n            }\n            // Generate unique filename\n            const timestamp = Date.now();\n            const randomString = Math.random().toString(36).substring(2, 15);\n            const fileExtension = ((_file_name_split_pop = file.name.split(\".\").pop()) === null || _file_name_split_pop === void 0 ? void 0 : _file_name_split_pop.toLowerCase()) || \"jpg\";\n            const filename = \"\".concat(timestamp, \"_\").concat(randomString, \".\").concat(fileExtension);\n            const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.ref)(_firebase__WEBPACK_IMPORTED_MODULE_2__.storage, \"\".concat(path, \"/\").concat(filename));\n            console.log(\"Uploading image:\", filename, \"Size:\", file.size);\n            // Upload with metadata\n            const metadata = {\n                contentType: file.type,\n                customMetadata: {\n                    uploadedAt: new Date().toISOString(),\n                    originalName: file.name\n                }\n            };\n            const snapshot = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.uploadBytes)(storageRef, file, metadata);\n            const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.getDownloadURL)(snapshot.ref);\n            console.log(\"Image uploaded successfully:\", downloadURL);\n            return {\n                success: true,\n                url: downloadURL\n            };\n        } catch (error) {\n            console.error(\"Error uploading image:\", error);\n            return {\n                success: false,\n                error: error.message || \"Failed to upload image\"\n            };\n        }\n    }\n    // Delete image from storage\n    static async deleteImage(imageUrl) {\n        try {\n            if (!imageUrl || !imageUrl.includes(\"firebase\")) {\n                return {\n                    success: false,\n                    error: \"Invalid image URL\"\n                };\n            }\n            const imageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.ref)(_firebase__WEBPACK_IMPORTED_MODULE_2__.storage, imageUrl);\n            await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.deleteObject)(imageRef);\n            console.log(\"Image deleted successfully:\", imageUrl);\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error deleting image:\", error);\n            return {\n                success: false,\n                error: error.message || \"Failed to delete image\"\n            };\n        }\n    }\n    // Get courses by category\n    static async getCoursesByCategory(category, limit) {\n        try {\n            if (!category || category.trim() === \"\") {\n                return {\n                    success: false,\n                    error: \"Category is required\"\n                };\n            }\n            let q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, COLLECTION_NAME), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"category\", \"==\", category), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", \"published\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"));\n            if (limit) {\n                q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, limit(limit));\n            }\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const courses = [];\n            querySnapshot.forEach((doc)=>{\n                var _data_createdAt, _data_updatedAt;\n                const data = doc.data();\n                courses.push({\n                    ...data,\n                    createdAt: ((_data_createdAt = data.createdAt) === null || _data_createdAt === void 0 ? void 0 : _data_createdAt.toDate()) || new Date(),\n                    updatedAt: ((_data_updatedAt = data.updatedAt) === null || _data_updatedAt === void 0 ? void 0 : _data_updatedAt.toDate()) || new Date()\n                });\n            });\n            return {\n                success: true,\n                data: courses\n            };\n        } catch (error) {\n            console.error(\"Error fetching courses by category:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Get published courses only\n    static async getPublishedCourses(limit) {\n        return this.getAllCourses({\n            status: \"published\",\n            limit: limit || 50\n        });\n    }\n    // Get draft courses only\n    static async getDraftCourses(limit) {\n        return this.getAllCourses({\n            status: \"draft\",\n            limit: limit || 50\n        });\n    }\n    // Search courses\n    static async searchCourses(searchTerm, options) {\n        try {\n            if (!searchTerm || searchTerm.trim() === \"\") {\n                return this.getAllCourses(options);\n            }\n            return this.getAllCourses({\n                ...options,\n                searchTerm: searchTerm.trim()\n            });\n        } catch (error) {\n            console.error(\"Error searching courses:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Get course statistics\n    static async getCourseStats() {\n        try {\n            const response = await this.getAllCourses();\n            if (!response.success || !response.data) {\n                return {\n                    success: false,\n                    error: response.error || \"Failed to fetch courses for statistics\"\n                };\n            }\n            const courses = response.data;\n            const stats = {\n                totalCourses: courses.length,\n                publishedCourses: courses.filter((c)=>c.status === \"published\").length,\n                draftCourses: courses.filter((c)=>c.status === \"draft\").length,\n                totalStudents: courses.reduce((sum, c)=>sum + (c.enrolledStudents || 0), 0),\n                totalRevenue: courses.reduce((sum, c)=>sum + (c.price || 0) * (c.enrolledStudents || 0), 0),\n                categories: {},\n                levels: {}\n            };\n            // Calculate category distribution\n            courses.forEach((course)=>{\n                if (course.category) {\n                    stats.categories[course.category] = (stats.categories[course.category] || 0) + 1;\n                }\n            });\n            // Calculate level distribution\n            courses.forEach((course)=>{\n                if (course.level) {\n                    stats.levels[course.level] = (stats.levels[course.level] || 0) + 1;\n                }\n            });\n            return {\n                success: true,\n                data: stats\n            };\n        } catch (error) {\n            console.error(\"Error fetching course statistics:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Update course status (publish/unpublish)\n    static async updateCourseStatus(courseId, status) {\n        try {\n            if (!courseId || courseId.trim() === \"\") {\n                return {\n                    success: false,\n                    error: \"Course ID is required\"\n                };\n            }\n            if (![\n                \"draft\",\n                \"published\"\n            ].includes(status)) {\n                return {\n                    success: false,\n                    error: 'Status must be either \"draft\" or \"published\"'\n                };\n            }\n            return this.updateCourse(courseId, {\n                status,\n                lastUpdated: new Date().toISOString()\n            });\n        } catch (error) {\n            console.error(\"Error updating course status:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n    // Duplicate course\n    static async duplicateCourse(courseId, newTitle) {\n        try {\n            const originalCourse = await this.getCourseById(courseId);\n            if (!originalCourse.success || !originalCourse.data) {\n                return {\n                    success: false,\n                    error: originalCourse.error || \"Original course not found\"\n                };\n            }\n            const course = originalCourse.data;\n            const duplicatedCourse = {\n                ...course,\n                title: newTitle || \"\".concat(course.title, \" (Copy)\"),\n                slug: (newTitle || \"\".concat(course.title, \" (Copy)\")).toLowerCase().replace(/\\s+/g, \"-\").replace(/[^a-z0-9-]/g, \"\"),\n                status: \"draft\",\n                enrolledStudents: 0,\n                rating: 0,\n                totalRatings: 0,\n                lastUpdated: new Date().toISOString()\n            };\n            // Remove fields that shouldn't be duplicated\n            delete duplicatedCourse._id;\n            delete duplicatedCourse.createdAt;\n            delete duplicatedCourse.updatedAt;\n            return this.createCourse(duplicatedCourse);\n        } catch (error) {\n            console.error(\"Error duplicating course:\", error);\n            const errorMessage = (0,_firebase__WEBPACK_IMPORTED_MODULE_2__.handleFirestoreError)(error);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvY291cnNlU2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQWdCNEI7QUFDc0Q7QUFDbkI7QUFFM0I7QUFFcEMsTUFBTXFCLGtCQUFrQjtBQUV4Qiw0REFBNEQ7QUFDNUQsTUFBTUMsa0JBQWtCLENBQUNDO0lBQ3ZCLE1BQU1DLFVBQWUsQ0FBQztJQUV0QixLQUFLLE1BQU0sQ0FBQ0MsS0FBS0MsTUFBTSxJQUFJQyxPQUFPQyxPQUFPLENBQUNMLE1BQU87UUFDL0Msc0NBQXNDO1FBQ3RDLElBQUlHLFVBQVVHLGFBQWEsT0FBT0gsVUFBVSxZQUFZO1lBQ3RELDRDQUE0QztZQUM1QyxJQUFJQSxVQUFVLE1BQU07Z0JBQ2xCLDZDQUE2QztnQkFDN0MsSUFBSTtvQkFBQztvQkFBZTtvQkFBbUI7b0JBQW9CO29CQUFnQjtpQkFBWSxDQUFDSSxRQUFRLENBQUNMLE1BQU07b0JBQ3JHRCxPQUFPLENBQUNDLElBQUksR0FBRztnQkFDakIsT0FBTyxJQUFJO29CQUFDO29CQUFvQjtvQkFBWTtvQkFBVTtvQkFBZ0I7b0JBQVU7b0JBQWM7b0JBQVc7aUJBQWEsQ0FBQ0ssUUFBUSxDQUFDTCxNQUFNO29CQUNwSUQsT0FBTyxDQUFDQyxJQUFJLEdBQUcsRUFBRTtnQkFDbkIsT0FBTyxJQUFJO29CQUFDO29CQUFVO29CQUFnQjtvQkFBb0I7b0JBQVM7aUJBQWdCLENBQUNLLFFBQVEsQ0FBQ0wsTUFBTTtvQkFDakdELE9BQU8sQ0FBQ0MsSUFBSSxHQUFHO2dCQUNqQixPQUFPO29CQUNMRCxPQUFPLENBQUNDLElBQUksR0FBRztnQkFDakI7WUFDRixPQUFPLElBQUlNLE1BQU1DLE9BQU8sQ0FBQ04sUUFBUTtnQkFDL0IsdUNBQXVDO2dCQUN2Q0YsT0FBTyxDQUFDQyxJQUFJLEdBQUdDLE1BQU1PLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUUEsU0FBUyxRQUFRQSxTQUFTTDtZQUNoRSxPQUFPLElBQUksT0FBT0gsVUFBVSxVQUFVO2dCQUNwQyx1Q0FBdUM7Z0JBQ3ZDRixPQUFPLENBQUNDLElBQUksR0FBR0MsTUFBTVMsSUFBSTtZQUMzQixPQUFPLElBQUksT0FBT1QsVUFBVSxZQUFZQSxNQUFNVSxXQUFXLEtBQUtULFFBQVE7Z0JBQ3BFLG1DQUFtQztnQkFDbkNILE9BQU8sQ0FBQ0MsSUFBSSxHQUFHSCxnQkFBZ0JJO1lBQ2pDLE9BQU87Z0JBQ0xGLE9BQU8sQ0FBQ0MsSUFBSSxHQUFHQztZQUNqQjtRQUNGO0lBQ0Y7SUFFQSxPQUFPRjtBQUNUO0FBRUEsMENBQTBDO0FBQzFDLE1BQU1hLHFCQUFxQixDQUFDQztJQUMxQixNQUFNQyxTQUFtQixFQUFFO0lBRTNCLElBQUksQ0FBQ0QsV0FBV0UsS0FBSyxJQUFJRixXQUFXRSxLQUFLLENBQUNMLElBQUksR0FBR00sTUFBTSxLQUFLLEdBQUc7UUFDN0RGLE9BQU9HLElBQUksQ0FBQztJQUNkO0lBRUEsSUFBSSxDQUFDSixXQUFXSyxnQkFBZ0IsSUFBSUwsV0FBV0ssZ0JBQWdCLENBQUNSLElBQUksR0FBR00sTUFBTSxLQUFLLEdBQUc7UUFDbkZGLE9BQU9HLElBQUksQ0FBQztJQUNkO0lBRUEsSUFBSSxDQUFDSixXQUFXTSxRQUFRLElBQUlOLFdBQVdNLFFBQVEsQ0FBQ1QsSUFBSSxHQUFHTSxNQUFNLEtBQUssR0FBRztRQUNuRUYsT0FBT0csSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJLENBQUNKLFdBQVdPLEtBQUssSUFBSSxDQUFDO1FBQUM7UUFBWTtRQUFnQjtLQUFXLENBQUNmLFFBQVEsQ0FBQ1EsV0FBV08sS0FBSyxHQUFHO1FBQzdGTixPQUFPRyxJQUFJLENBQUM7SUFDZDtJQUVBLElBQUksQ0FBQ0osV0FBV1EsUUFBUSxJQUFJUixXQUFXUSxRQUFRLENBQUNYLElBQUksR0FBR00sTUFBTSxLQUFLLEdBQUc7UUFDbkVGLE9BQU9HLElBQUksQ0FBQztJQUNkO0lBRUEsSUFBSSxDQUFDSixXQUFXUyxRQUFRLElBQUlULFdBQVdTLFFBQVEsQ0FBQ1osSUFBSSxHQUFHTSxNQUFNLEtBQUssR0FBRztRQUNuRUYsT0FBT0csSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJLENBQUNKLFdBQVdVLEtBQUssSUFBSVYsV0FBV1UsS0FBSyxDQUFDYixJQUFJLEdBQUdNLE1BQU0sS0FBSyxHQUFHO1FBQzdERixPQUFPRyxJQUFJLENBQUM7SUFDZDtJQUVBLElBQUlKLFdBQVdXLEtBQUssR0FBRyxLQUFLQyxNQUFNWixXQUFXVyxLQUFLLEdBQUc7UUFDbkRWLE9BQU9HLElBQUksQ0FBQztJQUNkO0lBRUEsSUFBSUosV0FBV2EsYUFBYSxHQUFHLEtBQUtELE1BQU1aLFdBQVdhLGFBQWEsR0FBRztRQUNuRVosT0FBT0csSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJSixXQUFXYSxhQUFhLEdBQUcsS0FBS2IsV0FBV1csS0FBSyxHQUFHWCxXQUFXYSxhQUFhLEVBQUU7UUFDL0VaLE9BQU9HLElBQUksQ0FBQztJQUNkO0lBRUEsT0FBTztRQUNMVSxTQUFTYixPQUFPRSxNQUFNLEtBQUs7UUFDM0JGO0lBQ0Y7QUFDRjtBQUVPLE1BQU1jO0lBQ1gsc0JBQXNCO0lBQ3RCLGFBQWFDLGFBQWFoQixVQUFxQixFQUEyQjtRQUN4RSxJQUFJO2dCQWtDT0EsbUJBQ0RBLGtCQUEyQkEsb0JBQ2ZBLDhCQUNSQSxzQkFFQUEsc0JBQ0FBLHNCQUNIQSxtQkFDSUEsdUJBRUVBLHlCQUNJQSw2QkFDQ0EsOEJBQ0pBLDBCQUNIQTtZQS9DYix1QkFBdUI7WUFDdkIsTUFBTWlCLGFBQWFsQixtQkFBbUJDO1lBQ3RDLElBQUksQ0FBQ2lCLFdBQVdILE9BQU8sRUFBRTtnQkFDdkIsT0FBTztvQkFDTEksU0FBUztvQkFDVEMsT0FBTyxzQkFBbUQsT0FBN0JGLFdBQVdoQixNQUFNLENBQUNtQixJQUFJLENBQUM7Z0JBQ3REO1lBQ0Y7WUFFQSxNQUFNQyxXQUFXdkMsZ0RBQU1BO1lBRXZCLE1BQU13QyxxQkFBcUI7Z0JBQ3pCLEdBQUd0QixVQUFVO2dCQUNidUIsS0FBS0Y7Z0JBQ0xHLFdBQVd2RCxtRUFBZUE7Z0JBQzFCd0QsV0FBV3hELG1FQUFlQTtnQkFDMUJ5RCxRQUFRMUIsV0FBVzBCLE1BQU0sSUFBSTtnQkFDN0Isa0NBQWtDO2dCQUNsQ0MsUUFBUUMsT0FBTzVCLFdBQVcyQixNQUFNLEtBQUs7Z0JBQ3JDRSxjQUFjRCxPQUFPNUIsV0FBVzZCLFlBQVksS0FBSztnQkFDakRDLGtCQUFrQkYsT0FBTzVCLFdBQVc4QixnQkFBZ0IsS0FBSztnQkFDekRuQixPQUFPaUIsT0FBTzVCLFdBQVdXLEtBQUssS0FBSztnQkFDbkNFLGVBQWVlLE9BQU81QixXQUFXYSxhQUFhLEtBQUs7Z0JBQ25ELHlDQUF5QztnQkFDekNrQixrQkFBa0J0QyxNQUFNQyxPQUFPLENBQUNNLFdBQVcrQixnQkFBZ0IsSUFBSS9CLFdBQVcrQixnQkFBZ0IsQ0FBQ3BDLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUUEsUUFBUUEsS0FBS0MsSUFBSSxNQUFNLEVBQUU7Z0JBQ25JbUMsVUFBVXZDLE1BQU1DLE9BQU8sQ0FBQ00sV0FBV2dDLFFBQVEsSUFBSWhDLFdBQVdnQyxRQUFRLENBQUNyQyxNQUFNLENBQUNDLENBQUFBLE9BQVFBLFFBQVFBLEtBQUtDLElBQUksTUFBTSxFQUFFO2dCQUMzR29DLFFBQVF4QyxNQUFNQyxPQUFPLENBQUNNLFdBQVdpQyxNQUFNLElBQUlqQyxXQUFXaUMsTUFBTSxDQUFDdEMsTUFBTSxDQUFDQyxDQUFBQSxPQUFRQSxRQUFRQSxLQUFLQyxJQUFJLE1BQU0sRUFBRTtnQkFDckdxQyxjQUFjekMsTUFBTUMsT0FBTyxDQUFDTSxXQUFXa0MsWUFBWSxJQUFJbEMsV0FBV2tDLFlBQVksQ0FBQ3ZDLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUUEsUUFBUUEsS0FBS0MsSUFBSSxNQUFNLEVBQUU7Z0JBQ3ZIc0MsUUFBUTFDLE1BQU1DLE9BQU8sQ0FBQ00sV0FBV21DLE1BQU0sSUFBSW5DLFdBQVdtQyxNQUFNLEdBQUcsRUFBRTtnQkFDakVDLFlBQVkzQyxNQUFNQyxPQUFPLENBQUNNLFdBQVdvQyxVQUFVLElBQUlwQyxXQUFXb0MsVUFBVSxHQUFHLEVBQUU7Z0JBQzdFQyxTQUFTNUMsTUFBTUMsT0FBTyxDQUFDTSxXQUFXcUMsT0FBTyxJQUFJckMsV0FBV3FDLE9BQU8sR0FBRyxFQUFFO2dCQUNwRUMsWUFBWTdDLE1BQU1DLE9BQU8sQ0FBQ00sV0FBV3NDLFVBQVUsSUFBSXRDLFdBQVdzQyxVQUFVLEdBQUcsRUFBRTtnQkFDN0UsbUNBQW1DO2dCQUNuQ3BDLE9BQU9GLEVBQUFBLG9CQUFBQSxXQUFXRSxLQUFLLGNBQWhCRix3Q0FBQUEsa0JBQWtCSCxJQUFJLE9BQU07Z0JBQ25DMEMsTUFBTXZDLEVBQUFBLG1CQUFBQSxXQUFXdUMsSUFBSSxjQUFmdkMsdUNBQUFBLGlCQUFpQkgsSUFBSSxTQUFNRyxxQkFBQUEsV0FBV0UsS0FBSyxjQUFoQkYseUNBQUFBLG1CQUFrQndDLFdBQVcsR0FBR0MsT0FBTyxDQUFDLFFBQVEsS0FBS0EsT0FBTyxDQUFDLGVBQWUsUUFBTztnQkFDcEhwQyxrQkFBa0JMLEVBQUFBLCtCQUFBQSxXQUFXSyxnQkFBZ0IsY0FBM0JMLG1EQUFBQSw2QkFBNkJILElBQUksT0FBTTtnQkFDekRTLFVBQVVOLEVBQUFBLHVCQUFBQSxXQUFXTSxRQUFRLGNBQW5CTiwyQ0FBQUEscUJBQXFCSCxJQUFJLE9BQU07Z0JBQ3pDVSxPQUFPUCxXQUFXTyxLQUFLLElBQUk7Z0JBQzNCQyxVQUFVUixFQUFBQSx1QkFBQUEsV0FBV1EsUUFBUSxjQUFuQlIsMkNBQUFBLHFCQUFxQkgsSUFBSSxPQUFNO2dCQUN6Q1ksVUFBVVQsRUFBQUEsdUJBQUFBLFdBQVdTLFFBQVEsY0FBbkJULDJDQUFBQSxxQkFBcUJILElBQUksT0FBTTtnQkFDekNhLE9BQU9WLEVBQUFBLG9CQUFBQSxXQUFXVSxLQUFLLGNBQWhCVix3Q0FBQUEsa0JBQWtCSCxJQUFJLE9BQU07Z0JBQ25DNkMsV0FBVzFDLEVBQUFBLHdCQUFBQSxXQUFXMEMsU0FBUyxjQUFwQjFDLDRDQUFBQSxzQkFBc0JILElBQUksT0FBTTtnQkFDM0M4QyxhQUFhM0MsV0FBVzJDLFdBQVcsSUFBSSxJQUFJQyxPQUFPQyxXQUFXO2dCQUM3REMsYUFBYTlDLEVBQUFBLDBCQUFBQSxXQUFXOEMsV0FBVyxjQUF0QjlDLDhDQUFBQSx3QkFBd0JILElBQUksT0FBTTtnQkFDL0NrRCxpQkFBaUIvQyxFQUFBQSw4QkFBQUEsV0FBVytDLGVBQWUsY0FBMUIvQyxrREFBQUEsNEJBQTRCSCxJQUFJLE9BQU07Z0JBQ3ZEbUQsa0JBQWtCaEQsRUFBQUEsK0JBQUFBLFdBQVdnRCxnQkFBZ0IsY0FBM0JoRCxtREFBQUEsNkJBQTZCSCxJQUFJLE9BQU07Z0JBQ3pEb0QsY0FBY2pELEVBQUFBLDJCQUFBQSxXQUFXaUQsWUFBWSxjQUF2QmpELCtDQUFBQSx5QkFBeUJILElBQUksT0FBTTtnQkFDakRxRCxXQUFXbEQsRUFBQUEsd0JBQUFBLFdBQVdrRCxTQUFTLGNBQXBCbEQsNENBQUFBLHNCQUFzQkgsSUFBSSxPQUFNO2dCQUMzQyx3Q0FBd0M7Z0JBQ3hDc0QsV0FBV25ELFdBQVdtRCxTQUFTLElBQUk7b0JBQ2pDQyxjQUFjO29CQUNkOUMsVUFBVTtvQkFDVitDLFlBQVk7b0JBQ1pDLGNBQWM7b0JBQ2RDLE9BQU8sRUFBRTtnQkFDWDtZQUNGO1lBRUEsZ0NBQWdDO1lBQ2hDLE1BQU1DLGNBQWN4RSxnQkFBZ0JzQztZQUVwQ21DLFFBQVFDLEdBQUcsQ0FBQyxzQ0FBc0M7Z0JBQ2hEeEQsT0FBT3NELFlBQVl0RCxLQUFLO2dCQUN4QndCLFFBQVE4QixZQUFZOUIsTUFBTTtnQkFDMUJmLE9BQU82QyxZQUFZN0MsS0FBSztZQUMxQjtZQUVBLE1BQU1nRCxTQUFTLE1BQU1oRywwREFBTUEsQ0FBQ0QsOERBQVVBLENBQUNnQix5Q0FBRUEsRUFBRUssa0JBQWtCeUU7WUFFN0QsTUFBTUksZ0JBQXdCO2dCQUM1QixHQUFHSixXQUFXO2dCQUNkaEMsV0FBVyxJQUFJb0I7Z0JBQ2ZuQixXQUFXLElBQUltQjtZQUNqQjtZQUVBLE9BQU87Z0JBQ0wxQixTQUFTO2dCQUNUakMsTUFBTTJFO1lBQ1I7UUFDRixFQUFFLE9BQU96QyxPQUFZO1lBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDLE1BQU0wQyxlQUFlakYsK0RBQW9CQSxDQUFDdUM7WUFDMUMsT0FBTztnQkFDTEQsU0FBUztnQkFDVEMsT0FBTzBDO1lBQ1Q7UUFDRjtJQUNGO0lBRUEseURBQXlEO0lBQ3pELGFBQWFDLGNBQWNDLE9BTTFCLEVBQTRCO1FBQzNCLElBQUk7WUFDRixJQUFJQyxJQUFJakcseURBQUtBLENBQUNMLDhEQUFVQSxDQUFDZ0IseUNBQUVBLEVBQUVLO1lBRTdCLGNBQWM7WUFDZCxJQUFJZ0Ysb0JBQUFBLDhCQUFBQSxRQUFTckMsTUFBTSxFQUFFO2dCQUNuQnNDLElBQUlqRyx5REFBS0EsQ0FBQ2lHLEdBQUc5Rix5REFBS0EsQ0FBQyxVQUFVLE1BQU02RixRQUFRckMsTUFBTTtZQUNuRDtZQUVBLElBQUlxQyxvQkFBQUEsOEJBQUFBLFFBQVN6RCxRQUFRLEVBQUU7Z0JBQ3JCMEQsSUFBSWpHLHlEQUFLQSxDQUFDaUcsR0FBRzlGLHlEQUFLQSxDQUFDLFlBQVksTUFBTTZGLFFBQVF6RCxRQUFRO1lBQ3ZEO1lBRUEsZUFBZTtZQUNmMEQsSUFBSWpHLHlEQUFLQSxDQUFDaUcsR0FBR2hHLDJEQUFPQSxDQUFDLGFBQWE7WUFFbEMsaUJBQWlCO1lBQ2pCLElBQUkrRixvQkFBQUEsOEJBQUFBLFFBQVMzRixLQUFLLEVBQUU7Z0JBQ2xCNEYsSUFBSWpHLHlEQUFLQSxDQUFDaUcsR0FBRzVGLHlEQUFLQSxDQUFDMkYsUUFBUTNGLEtBQUs7WUFDbEM7WUFFQSxJQUFJMkYsb0JBQUFBLDhCQUFBQSxRQUFTRSxPQUFPLEVBQUU7Z0JBQ3BCRCxJQUFJakcseURBQUtBLENBQUNpRyxHQUFHM0YsOERBQVVBLENBQUMwRixRQUFRRSxPQUFPO1lBQ3pDO1lBRUEsTUFBTUMsZ0JBQWdCLE1BQU1wRywyREFBT0EsQ0FBQ2tHO1lBRXBDLE1BQU1HLFVBQW9CLEVBQUU7WUFDNUJELGNBQWNFLE9BQU8sQ0FBQyxDQUFDQztvQkFJUnBGLGlCQUNBQTtnQkFKYixNQUFNQSxPQUFPb0YsSUFBSXBGLElBQUk7Z0JBQ3JCLE1BQU1xRixTQUFpQjtvQkFDckIsR0FBR3JGLElBQUk7b0JBQ1B1QyxXQUFXdkMsRUFBQUEsa0JBQUFBLEtBQUt1QyxTQUFTLGNBQWR2QyxzQ0FBQUEsZ0JBQWdCc0YsTUFBTSxPQUFNLElBQUkzQjtvQkFDM0NuQixXQUFXeEMsRUFBQUEsa0JBQUFBLEtBQUt3QyxTQUFTLGNBQWR4QyxzQ0FBQUEsZ0JBQWdCc0YsTUFBTSxPQUFNLElBQUkzQjtvQkFDM0MsNkNBQTZDO29CQUM3Q2pCLFFBQVFDLE9BQU8zQyxLQUFLMEMsTUFBTSxLQUFLO29CQUMvQkUsY0FBY0QsT0FBTzNDLEtBQUs0QyxZQUFZLEtBQUs7b0JBQzNDQyxrQkFBa0JGLE9BQU8zQyxLQUFLNkMsZ0JBQWdCLEtBQUs7b0JBQ25EbkIsT0FBT2lCLE9BQU8zQyxLQUFLMEIsS0FBSyxLQUFLO29CQUM3QkUsZUFBZWUsT0FBTzNDLEtBQUs0QixhQUFhLEtBQUs7b0JBQzdDa0Isa0JBQWtCdEMsTUFBTUMsT0FBTyxDQUFDVCxLQUFLOEMsZ0JBQWdCLElBQUk5QyxLQUFLOEMsZ0JBQWdCLEdBQUcsRUFBRTtvQkFDbkZDLFVBQVV2QyxNQUFNQyxPQUFPLENBQUNULEtBQUsrQyxRQUFRLElBQUkvQyxLQUFLK0MsUUFBUSxHQUFHLEVBQUU7b0JBQzNEQyxRQUFReEMsTUFBTUMsT0FBTyxDQUFDVCxLQUFLZ0QsTUFBTSxJQUFJaEQsS0FBS2dELE1BQU0sR0FBRyxFQUFFO29CQUNyREMsY0FBY3pDLE1BQU1DLE9BQU8sQ0FBQ1QsS0FBS2lELFlBQVksSUFBSWpELEtBQUtpRCxZQUFZLEdBQUcsRUFBRTtvQkFDdkVDLFFBQVExQyxNQUFNQyxPQUFPLENBQUNULEtBQUtrRCxNQUFNLElBQUlsRCxLQUFLa0QsTUFBTSxHQUFHLEVBQUU7b0JBQ3JEQyxZQUFZM0MsTUFBTUMsT0FBTyxDQUFDVCxLQUFLbUQsVUFBVSxJQUFJbkQsS0FBS21ELFVBQVUsR0FBRyxFQUFFO29CQUNqRUMsU0FBUzVDLE1BQU1DLE9BQU8sQ0FBQ1QsS0FBS29ELE9BQU8sSUFBSXBELEtBQUtvRCxPQUFPLEdBQUcsRUFBRTtvQkFDeERDLFlBQVk3QyxNQUFNQyxPQUFPLENBQUNULEtBQUtxRCxVQUFVLElBQUlyRCxLQUFLcUQsVUFBVSxHQUFHLEVBQUU7b0JBQ2pFYSxXQUFXbEUsS0FBS2tFLFNBQVMsSUFBSTt3QkFDM0JDLGNBQWM7d0JBQ2Q5QyxVQUFVO3dCQUNWK0MsWUFBWTt3QkFDWkMsY0FBYzt3QkFDZEMsT0FBTyxFQUFFO29CQUNYO2dCQUNGO2dCQUVBLHNEQUFzRDtnQkFDdEQsSUFBSVEsb0JBQUFBLDhCQUFBQSxRQUFTUyxVQUFVLEVBQUU7b0JBQ3ZCLE1BQU1DLGNBQWNWLFFBQVFTLFVBQVUsQ0FBQ2hDLFdBQVc7b0JBQ2xELE1BQU1rQyxnQkFDSkosT0FBT3BFLEtBQUssQ0FBQ3NDLFdBQVcsR0FBR2hELFFBQVEsQ0FBQ2lGLGdCQUNwQ0gsT0FBT2hFLFFBQVEsQ0FBQ2tDLFdBQVcsR0FBR2hELFFBQVEsQ0FBQ2lGLGdCQUN2Q0gsT0FBT2pFLGdCQUFnQixDQUFDbUMsV0FBVyxHQUFHaEQsUUFBUSxDQUFDaUYsZ0JBQy9DSCxPQUFPNUIsU0FBUyxDQUFDRixXQUFXLEdBQUdoRCxRQUFRLENBQUNpRjtvQkFFMUMsSUFBSUMsZUFBZTt3QkFDakJQLFFBQVEvRCxJQUFJLENBQUNrRTtvQkFDZjtnQkFDRixPQUFPO29CQUNMSCxRQUFRL0QsSUFBSSxDQUFDa0U7Z0JBQ2Y7WUFDRjtZQUVBLE9BQU87Z0JBQ0xwRCxTQUFTO2dCQUNUakMsTUFBTWtGO2dCQUNOUSxZQUFZO29CQUNWQyxPQUFPVCxRQUFRaEUsTUFBTTtvQkFDckIwRSxNQUFNO29CQUNOQyxPQUFPO2dCQUNUO1lBQ0Y7UUFDRixFQUFFLE9BQU8zRCxPQUFZO1lBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQywyQkFBMkJBO1lBQ3pDLE1BQU0wQyxlQUFlakYsK0RBQW9CQSxDQUFDdUM7WUFDMUMsT0FBTztnQkFDTEQsU0FBUztnQkFDVEMsT0FBTzBDO1lBQ1Q7UUFDRjtJQUNGO0lBRUEsbUJBQW1CO0lBQ25CLGFBQWFrQixjQUFjMUQsUUFBZ0IsRUFBMkI7UUFDcEUsSUFBSTtnQkFzQldwQyxpQkFDQUE7WUF0QmIsSUFBSSxDQUFDb0MsWUFBWUEsU0FBU3hCLElBQUksT0FBTyxJQUFJO2dCQUN2QyxPQUFPO29CQUNMcUIsU0FBUztvQkFDVEMsT0FBTztnQkFDVDtZQUNGO1lBRUEsTUFBTTZDLElBQUlqRyx5REFBS0EsQ0FBQ0wsOERBQVVBLENBQUNnQix5Q0FBRUEsRUFBRUssa0JBQWtCYix5REFBS0EsQ0FBQyxPQUFPLE1BQU1tRDtZQUNwRSxNQUFNNkMsZ0JBQWdCLE1BQU1wRywyREFBT0EsQ0FBQ2tHO1lBRXBDLElBQUlFLGNBQWNjLEtBQUssRUFBRTtnQkFDdkIsT0FBTztvQkFDTDlELFNBQVM7b0JBQ1RDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLE1BQU1rRCxNQUFNSCxjQUFjZSxJQUFJLENBQUMsRUFBRTtZQUNqQyxNQUFNaEcsT0FBT29GLElBQUlwRixJQUFJO1lBQ3JCLE1BQU1xRixTQUFpQjtnQkFDckIsR0FBR3JGLElBQUk7Z0JBQ1B1QyxXQUFXdkMsRUFBQUEsa0JBQUFBLEtBQUt1QyxTQUFTLGNBQWR2QyxzQ0FBQUEsZ0JBQWdCc0YsTUFBTSxPQUFNLElBQUkzQjtnQkFDM0NuQixXQUFXeEMsRUFBQUEsa0JBQUFBLEtBQUt3QyxTQUFTLGNBQWR4QyxzQ0FBQUEsZ0JBQWdCc0YsTUFBTSxPQUFNLElBQUkzQjtnQkFDM0MsNkNBQTZDO2dCQUM3Q2pCLFFBQVFDLE9BQU8zQyxLQUFLMEMsTUFBTSxLQUFLO2dCQUMvQkUsY0FBY0QsT0FBTzNDLEtBQUs0QyxZQUFZLEtBQUs7Z0JBQzNDQyxrQkFBa0JGLE9BQU8zQyxLQUFLNkMsZ0JBQWdCLEtBQUs7Z0JBQ25EbkIsT0FBT2lCLE9BQU8zQyxLQUFLMEIsS0FBSyxLQUFLO2dCQUM3QkUsZUFBZWUsT0FBTzNDLEtBQUs0QixhQUFhLEtBQUs7Z0JBQzdDa0Isa0JBQWtCdEMsTUFBTUMsT0FBTyxDQUFDVCxLQUFLOEMsZ0JBQWdCLElBQUk5QyxLQUFLOEMsZ0JBQWdCLEdBQUcsRUFBRTtnQkFDbkZDLFVBQVV2QyxNQUFNQyxPQUFPLENBQUNULEtBQUsrQyxRQUFRLElBQUkvQyxLQUFLK0MsUUFBUSxHQUFHLEVBQUU7Z0JBQzNEQyxRQUFReEMsTUFBTUMsT0FBTyxDQUFDVCxLQUFLZ0QsTUFBTSxJQUFJaEQsS0FBS2dELE1BQU0sR0FBRyxFQUFFO2dCQUNyREMsY0FBY3pDLE1BQU1DLE9BQU8sQ0FBQ1QsS0FBS2lELFlBQVksSUFBSWpELEtBQUtpRCxZQUFZLEdBQUcsRUFBRTtnQkFDdkVDLFFBQVExQyxNQUFNQyxPQUFPLENBQUNULEtBQUtrRCxNQUFNLElBQUlsRCxLQUFLa0QsTUFBTSxHQUFHLEVBQUU7Z0JBQ3JEQyxZQUFZM0MsTUFBTUMsT0FBTyxDQUFDVCxLQUFLbUQsVUFBVSxJQUFJbkQsS0FBS21ELFVBQVUsR0FBRyxFQUFFO2dCQUNqRUMsU0FBUzVDLE1BQU1DLE9BQU8sQ0FBQ1QsS0FBS29ELE9BQU8sSUFBSXBELEtBQUtvRCxPQUFPLEdBQUcsRUFBRTtnQkFDeERDLFlBQVk3QyxNQUFNQyxPQUFPLENBQUNULEtBQUtxRCxVQUFVLElBQUlyRCxLQUFLcUQsVUFBVSxHQUFHLEVBQUU7Z0JBQ2pFYSxXQUFXbEUsS0FBS2tFLFNBQVMsSUFBSTtvQkFDM0JDLGNBQWM7b0JBQ2Q5QyxVQUFVO29CQUNWK0MsWUFBWTtvQkFDWkMsY0FBYztvQkFDZEMsT0FBTyxFQUFFO2dCQUNYO1lBQ0Y7WUFFQSxPQUFPO2dCQUNMckMsU0FBUztnQkFDVGpDLE1BQU1xRjtZQUNSO1FBQ0YsRUFBRSxPQUFPbkQsT0FBWTtZQUNuQnNDLFFBQVF0QyxLQUFLLENBQUMsMEJBQTBCQTtZQUN4QyxNQUFNMEMsZUFBZWpGLCtEQUFvQkEsQ0FBQ3VDO1lBQzFDLE9BQU87Z0JBQ0xELFNBQVM7Z0JBQ1RDLE9BQU8wQztZQUNUO1FBQ0Y7SUFDRjtJQUVBLHFCQUFxQjtJQUNyQixhQUFhcUIsZ0JBQWdCM0MsSUFBWSxFQUEyQjtRQUNsRSxJQUFJO2dCQXNCV3RELGlCQUNBQTtZQXRCYixJQUFJLENBQUNzRCxRQUFRQSxLQUFLMUMsSUFBSSxPQUFPLElBQUk7Z0JBQy9CLE9BQU87b0JBQ0xxQixTQUFTO29CQUNUQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxNQUFNNkMsSUFBSWpHLHlEQUFLQSxDQUFDTCw4REFBVUEsQ0FBQ2dCLHlDQUFFQSxFQUFFSyxrQkFBa0JiLHlEQUFLQSxDQUFDLFFBQVEsTUFBTXFFO1lBQ3JFLE1BQU0yQixnQkFBZ0IsTUFBTXBHLDJEQUFPQSxDQUFDa0c7WUFFcEMsSUFBSUUsY0FBY2MsS0FBSyxFQUFFO2dCQUN2QixPQUFPO29CQUNMOUQsU0FBUztvQkFDVEMsT0FBTztnQkFDVDtZQUNGO1lBRUEsTUFBTWtELE1BQU1ILGNBQWNlLElBQUksQ0FBQyxFQUFFO1lBQ2pDLE1BQU1oRyxPQUFPb0YsSUFBSXBGLElBQUk7WUFDckIsTUFBTXFGLFNBQWlCO2dCQUNyQixHQUFHckYsSUFBSTtnQkFDUHVDLFdBQVd2QyxFQUFBQSxrQkFBQUEsS0FBS3VDLFNBQVMsY0FBZHZDLHNDQUFBQSxnQkFBZ0JzRixNQUFNLE9BQU0sSUFBSTNCO2dCQUMzQ25CLFdBQVd4QyxFQUFBQSxrQkFBQUEsS0FBS3dDLFNBQVMsY0FBZHhDLHNDQUFBQSxnQkFBZ0JzRixNQUFNLE9BQU0sSUFBSTNCO1lBQzdDO1lBRUEsT0FBTztnQkFDTDFCLFNBQVM7Z0JBQ1RqQyxNQUFNcUY7WUFDUjtRQUNGLEVBQUUsT0FBT25ELE9BQVk7WUFDbkJzQyxRQUFRdEMsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsTUFBTTBDLGVBQWVqRiwrREFBb0JBLENBQUN1QztZQUMxQyxPQUFPO2dCQUNMRCxTQUFTO2dCQUNUQyxPQUFPMEM7WUFDVDtRQUNGO0lBQ0Y7SUFFQSxnQkFBZ0I7SUFDaEIsYUFBYXNCLGFBQWE5RCxRQUFnQixFQUFFckIsVUFBMkIsRUFBMkI7UUFDaEcsSUFBSTtZQUNGLElBQUksQ0FBQ3FCLFlBQVlBLFNBQVN4QixJQUFJLE9BQU8sSUFBSTtnQkFDdkMsT0FBTztvQkFDTHFCLFNBQVM7b0JBQ1RDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLHVEQUF1RDtZQUN2RCxJQUFJbkIsV0FBV0UsS0FBSyxJQUFJRixXQUFXSyxnQkFBZ0IsSUFBSUwsV0FBV00sUUFBUSxFQUFFO2dCQUMxRSxNQUFNVyxhQUFhbEIsbUJBQW1CO29CQUNwQ0csT0FBT0YsV0FBV0UsS0FBSyxJQUFJO29CQUMzQkcsa0JBQWtCTCxXQUFXSyxnQkFBZ0IsSUFBSTtvQkFDakRDLFVBQVVOLFdBQVdNLFFBQVEsSUFBSTtvQkFDakNDLE9BQU9QLFdBQVdPLEtBQUssSUFBSTtvQkFDM0JDLFVBQVVSLFdBQVdRLFFBQVEsSUFBSTtvQkFDakNDLFVBQVVULFdBQVdTLFFBQVEsSUFBSTtvQkFDakNDLE9BQU9WLFdBQVdVLEtBQUssSUFBSTtvQkFDM0JDLE9BQU9YLFdBQVdXLEtBQUssSUFBSTtvQkFDM0JFLGVBQWViLFdBQVdhLGFBQWEsSUFBSTtnQkFDN0M7Z0JBRUEsSUFBSSxDQUFDSSxXQUFXSCxPQUFPLEVBQUU7b0JBQ3ZCLE9BQU87d0JBQ0xJLFNBQVM7d0JBQ1RDLE9BQU8sc0JBQW1ELE9BQTdCRixXQUFXaEIsTUFBTSxDQUFDbUIsSUFBSSxDQUFDO29CQUN0RDtnQkFDRjtZQUNGO1lBRUEsTUFBTTRDLElBQUlqRyx5REFBS0EsQ0FBQ0wsOERBQVVBLENBQUNnQix5Q0FBRUEsRUFBRUssa0JBQWtCYix5REFBS0EsQ0FBQyxPQUFPLE1BQU1tRDtZQUNwRSxNQUFNNkMsZ0JBQWdCLE1BQU1wRywyREFBT0EsQ0FBQ2tHO1lBRXBDLElBQUlFLGNBQWNjLEtBQUssRUFBRTtnQkFDdkIsT0FBTztvQkFDTDlELFNBQVM7b0JBQ1RDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLE1BQU13QyxTQUFTTyxjQUFjZSxJQUFJLENBQUMsRUFBRSxDQUFDM0csR0FBRztZQUV4QyxNQUFNOEcsYUFBYTtnQkFDakIsR0FBR3BGLFVBQVU7Z0JBQ2J5QixXQUFXeEQsbUVBQWVBO2dCQUMxQjBFLGFBQWEsSUFBSUMsT0FBT0MsV0FBVztnQkFDbkMsMkNBQTJDO2dCQUMzQyxHQUFJN0MsV0FBVzJCLE1BQU0sS0FBS3BDLGFBQWE7b0JBQUVvQyxRQUFRQyxPQUFPNUIsV0FBVzJCLE1BQU07Z0JBQUUsQ0FBQztnQkFDNUUsR0FBSTNCLFdBQVc2QixZQUFZLEtBQUt0QyxhQUFhO29CQUFFc0MsY0FBY0QsT0FBTzVCLFdBQVc2QixZQUFZO2dCQUFFLENBQUM7Z0JBQzlGLEdBQUk3QixXQUFXOEIsZ0JBQWdCLEtBQUt2QyxhQUFhO29CQUFFdUMsa0JBQWtCRixPQUFPNUIsV0FBVzhCLGdCQUFnQjtnQkFBRSxDQUFDO2dCQUMxRyxHQUFJOUIsV0FBV1csS0FBSyxLQUFLcEIsYUFBYTtvQkFBRW9CLE9BQU9pQixPQUFPNUIsV0FBV1csS0FBSztnQkFBRSxDQUFDO2dCQUN6RSxHQUFJWCxXQUFXYSxhQUFhLEtBQUt0QixhQUFhO29CQUFFc0IsZUFBZWUsT0FBTzVCLFdBQVdhLGFBQWE7Z0JBQUUsQ0FBQztnQkFDakcsc0NBQXNDO2dCQUN0QyxHQUFJYixXQUFXK0IsZ0JBQWdCLElBQUk7b0JBQ2pDQSxrQkFBa0J0QyxNQUFNQyxPQUFPLENBQUNNLFdBQVcrQixnQkFBZ0IsSUFDdkQvQixXQUFXK0IsZ0JBQWdCLENBQUNwQyxNQUFNLENBQUNDLENBQUFBLE9BQVFBLFFBQVFBLEtBQUtDLElBQUksTUFDNUQsRUFBRTtnQkFDUixDQUFDO2dCQUNELEdBQUlHLFdBQVdnQyxRQUFRLElBQUk7b0JBQ3pCQSxVQUFVdkMsTUFBTUMsT0FBTyxDQUFDTSxXQUFXZ0MsUUFBUSxJQUN2Q2hDLFdBQVdnQyxRQUFRLENBQUNyQyxNQUFNLENBQUNDLENBQUFBLE9BQVFBLFFBQVFBLEtBQUtDLElBQUksTUFDcEQsRUFBRTtnQkFDUixDQUFDO2dCQUNELEdBQUlHLFdBQVdpQyxNQUFNLElBQUk7b0JBQ3ZCQSxRQUFReEMsTUFBTUMsT0FBTyxDQUFDTSxXQUFXaUMsTUFBTSxJQUNuQ2pDLFdBQVdpQyxNQUFNLENBQUN0QyxNQUFNLENBQUNDLENBQUFBLE9BQVFBLFFBQVFBLEtBQUtDLElBQUksTUFDbEQsRUFBRTtnQkFDUixDQUFDO2dCQUNELEdBQUlHLFdBQVdrQyxZQUFZLElBQUk7b0JBQzdCQSxjQUFjekMsTUFBTUMsT0FBTyxDQUFDTSxXQUFXa0MsWUFBWSxJQUMvQ2xDLFdBQVdrQyxZQUFZLENBQUN2QyxNQUFNLENBQUNDLENBQUFBLE9BQVFBLFFBQVFBLEtBQUtDLElBQUksTUFDeEQsRUFBRTtnQkFDUixDQUFDO2dCQUNELCtCQUErQjtnQkFDL0IsR0FBSUcsV0FBV0UsS0FBSyxJQUFJO29CQUN0QnFDLE1BQU12QyxXQUFXRSxLQUFLLENBQUNzQyxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLEtBQUtBLE9BQU8sQ0FBQyxlQUFlO2dCQUNuRixDQUFDO1lBQ0g7WUFFQSxnQ0FBZ0M7WUFDaEMsTUFBTWUsY0FBY3hFLGdCQUFnQm9HO1lBRXBDM0IsUUFBUUMsR0FBRyxDQUFDLHNDQUFzQztnQkFDaERyQztnQkFDQWdFLGVBQWVoRyxPQUFPaUcsSUFBSSxDQUFDOUI7WUFDN0I7WUFFQSxNQUFNNUYsNkRBQVNBLENBQUMrRixRQUFRSDtZQUV4QiwyQkFBMkI7WUFDM0IsTUFBTStCLHdCQUF3QixNQUFNLElBQUksQ0FBQ1IsYUFBYSxDQUFDMUQ7WUFFdkQsSUFBSWtFLHNCQUFzQnJFLE9BQU8sRUFBRTtnQkFDakMsT0FBT3FFO1lBQ1QsT0FBTztnQkFDTCxPQUFPO29CQUNMckUsU0FBUztvQkFDVGpDLE1BQU07d0JBQ0osR0FBR2UsVUFBVTt3QkFDYnVCLEtBQUtGO3dCQUNMSSxXQUFXLElBQUltQjtvQkFDakI7Z0JBQ0Y7WUFDRjtRQUNGLEVBQUUsT0FBT3pCLE9BQVk7WUFDbkJzQyxRQUFRdEMsS0FBSyxDQUFDLDBCQUEwQkE7WUFDeEMsTUFBTTBDLGVBQWVqRiwrREFBb0JBLENBQUN1QztZQUMxQyxPQUFPO2dCQUNMRCxTQUFTO2dCQUNUQyxPQUFPMEM7WUFDVDtRQUNGO0lBQ0Y7SUFFQSxnQkFBZ0I7SUFDaEIsYUFBYTJCLGFBQWFuRSxRQUFnQixFQUFpRDtRQUN6RixJQUFJO1lBQ0YsSUFBSSxDQUFDQSxZQUFZQSxTQUFTeEIsSUFBSSxPQUFPLElBQUk7Z0JBQ3ZDLE9BQU87b0JBQ0xxQixTQUFTO29CQUNUQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxNQUFNNkMsSUFBSWpHLHlEQUFLQSxDQUFDTCw4REFBVUEsQ0FBQ2dCLHlDQUFFQSxFQUFFSyxrQkFBa0JiLHlEQUFLQSxDQUFDLE9BQU8sTUFBTW1EO1lBQ3BFLE1BQU02QyxnQkFBZ0IsTUFBTXBHLDJEQUFPQSxDQUFDa0c7WUFFcEMsSUFBSUUsY0FBY2MsS0FBSyxFQUFFO2dCQUN2QixPQUFPO29CQUNMOUQsU0FBUztvQkFDVEMsT0FBTztnQkFDVDtZQUNGO1lBRUEsTUFBTXdDLFNBQVNPLGNBQWNlLElBQUksQ0FBQyxFQUFFLENBQUMzRyxHQUFHO1lBQ3hDLE1BQU0wQixhQUFha0UsY0FBY2UsSUFBSSxDQUFDLEVBQUUsQ0FBQ2hHLElBQUk7WUFFN0Msd0NBQXdDO1lBQ3hDLElBQUllLFdBQVcrQyxlQUFlLEVBQUU7Z0JBQzlCLElBQUk7b0JBQ0YsTUFBTSxJQUFJLENBQUMwQyxXQUFXLENBQUN6RixXQUFXK0MsZUFBZTtnQkFDbkQsRUFBRSxPQUFPMkMsWUFBWTtvQkFDbkJqQyxRQUFRa0MsSUFBSSxDQUFDLHNDQUFzQ0Q7Z0JBQ3JEO1lBQ0Y7WUFFQSxJQUFJMUYsV0FBV2dELGdCQUFnQixFQUFFO2dCQUMvQixJQUFJO29CQUNGLE1BQU0sSUFBSSxDQUFDeUMsV0FBVyxDQUFDekYsV0FBV2dELGdCQUFnQjtnQkFDcEQsRUFBRSxPQUFPMEMsWUFBWTtvQkFDbkJqQyxRQUFRa0MsSUFBSSxDQUFDLHVDQUF1Q0Q7Z0JBQ3REO1lBQ0Y7WUFFQSxNQUFNN0gsNkRBQVNBLENBQUM4RjtZQUVoQkYsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ3JDO1lBRTVDLE9BQU87Z0JBQ0xILFNBQVM7WUFDWDtRQUNGLEVBQUUsT0FBT0MsT0FBWTtZQUNuQnNDLFFBQVF0QyxLQUFLLENBQUMsMEJBQTBCQTtZQUN4QyxNQUFNMEMsZUFBZWpGLCtEQUFvQkEsQ0FBQ3VDO1lBQzFDLE9BQU87Z0JBQ0xELFNBQVM7Z0JBQ1RDLE9BQU8wQztZQUNUO1FBQ0Y7SUFDRjtJQUVBLHNCQUFzQjtJQUN0QixhQUFhK0IsY0FBY0MsU0FBbUIsRUFBd0U7UUFDcEgsSUFBSTtZQUNGLElBQUksQ0FBQ0EsYUFBYUEsVUFBVTFGLE1BQU0sS0FBSyxHQUFHO2dCQUN4QyxPQUFPO29CQUNMZSxTQUFTO29CQUNUQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxNQUFNMkUsUUFBUTNILDhEQUFVQSxDQUFDTyx5Q0FBRUE7WUFDM0IsSUFBSXFILGVBQWU7WUFFbkIsS0FBSyxNQUFNMUUsWUFBWXdFLFVBQVc7Z0JBQ2hDLE1BQU03QixJQUFJakcseURBQUtBLENBQUNMLDhEQUFVQSxDQUFDZ0IseUNBQUVBLEVBQUVLLGtCQUFrQmIseURBQUtBLENBQUMsT0FBTyxNQUFNbUQ7Z0JBQ3BFLE1BQU02QyxnQkFBZ0IsTUFBTXBHLDJEQUFPQSxDQUFDa0c7Z0JBRXBDLElBQUksQ0FBQ0UsY0FBY2MsS0FBSyxFQUFFO29CQUN4QixNQUFNckIsU0FBU08sY0FBY2UsSUFBSSxDQUFDLEVBQUUsQ0FBQzNHLEdBQUc7b0JBQ3hDd0gsTUFBTUUsTUFBTSxDQUFDckM7b0JBQ2JvQztnQkFDRjtZQUNGO1lBRUEsSUFBSUEsaUJBQWlCLEdBQUc7Z0JBQ3RCLE9BQU87b0JBQ0w3RSxTQUFTO29CQUNUQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxNQUFNMkUsTUFBTUcsTUFBTTtZQUVsQixPQUFPO2dCQUNML0UsU0FBUztnQkFDVDZFO1lBQ0Y7UUFDRixFQUFFLE9BQU81RSxPQUFZO1lBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQyxnQ0FBZ0NBO1lBQzlDLE1BQU0wQyxlQUFlakYsK0RBQW9CQSxDQUFDdUM7WUFDMUMsT0FBTztnQkFDTEQsU0FBUztnQkFDVEMsT0FBTzBDO1lBQ1Q7UUFDRjtJQUNGO0lBRUEsMkRBQTJEO0lBQzNELGFBQWFxQyxZQUFZQyxJQUFVLEVBQUVDLElBQVksRUFBK0Q7UUFDOUcsSUFBSTtnQkFxQm9CRDtZQXBCdEIsZ0JBQWdCO1lBQ2hCLElBQUksQ0FBQ0EsTUFBTTtnQkFDVCxPQUFPO29CQUFFakYsU0FBUztvQkFBT0MsT0FBTztnQkFBbUI7WUFDckQ7WUFFQSxJQUFJZ0YsS0FBS0UsSUFBSSxHQUFHLElBQUksT0FBTyxNQUFNO2dCQUMvQixPQUFPO29CQUFFbkYsU0FBUztvQkFBT0MsT0FBTztnQkFBa0M7WUFDcEU7WUFFQSxNQUFNbUYsZUFBZTtnQkFBQztnQkFBYztnQkFBYTtnQkFBYTtnQkFBYzthQUFZO1lBQ3hGLElBQUksQ0FBQ0EsYUFBYTlHLFFBQVEsQ0FBQzJHLEtBQUtJLElBQUksR0FBRztnQkFDckMsT0FBTztvQkFDTHJGLFNBQVM7b0JBQ1RDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLDJCQUEyQjtZQUMzQixNQUFNcUYsWUFBWTVELEtBQUs2RCxHQUFHO1lBQzFCLE1BQU1DLGVBQWVDLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHO1lBQzdELE1BQU1DLGdCQUFnQlosRUFBQUEsdUJBQUFBLEtBQUthLElBQUksQ0FBQ0MsS0FBSyxDQUFDLEtBQUtDLEdBQUcsZ0JBQXhCZiwyQ0FBQUEscUJBQTRCM0QsV0FBVyxPQUFNO1lBQ25FLE1BQU0yRSxXQUFXLEdBQWdCVCxPQUFiRixXQUFVLEtBQW1CTyxPQUFoQkwsY0FBYSxLQUFpQixPQUFkSztZQUVqRCxNQUFNSyxhQUFhOUkscURBQUdBLENBQUNLLDhDQUFPQSxFQUFFLEdBQVd3SSxPQUFSZixNQUFLLEtBQVksT0FBVGU7WUFFM0MxRCxRQUFRQyxHQUFHLENBQUMsb0JBQW9CeUQsVUFBVSxTQUFTaEIsS0FBS0UsSUFBSTtZQUU1RCx1QkFBdUI7WUFDdkIsTUFBTWdCLFdBQVc7Z0JBQ2ZDLGFBQWFuQixLQUFLSSxJQUFJO2dCQUN0QmdCLGdCQUFnQjtvQkFDZEMsWUFBWSxJQUFJNUUsT0FBT0MsV0FBVztvQkFDbEM0RSxjQUFjdEIsS0FBS2EsSUFBSTtnQkFDekI7WUFDRjtZQUVBLE1BQU1VLFdBQVcsTUFBTW5KLDZEQUFXQSxDQUFDNkksWUFBWWpCLE1BQU1rQjtZQUNyRCxNQUFNTSxjQUFjLE1BQU1uSixnRUFBY0EsQ0FBQ2tKLFNBQVNwSixHQUFHO1lBRXJEbUYsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ2lFO1lBRTVDLE9BQU87Z0JBQ0x6RyxTQUFTO2dCQUNUMEcsS0FBS0Q7WUFDUDtRQUNGLEVBQUUsT0FBT3hHLE9BQVk7WUFDbkJzQyxRQUFRdEMsS0FBSyxDQUFDLDBCQUEwQkE7WUFDeEMsT0FBTztnQkFDTEQsU0FBUztnQkFDVEMsT0FBT0EsTUFBTTBHLE9BQU8sSUFBSTtZQUMxQjtRQUNGO0lBQ0Y7SUFFQSw0QkFBNEI7SUFDNUIsYUFBYXBDLFlBQVlxQyxRQUFnQixFQUFpRDtRQUN4RixJQUFJO1lBQ0YsSUFBSSxDQUFDQSxZQUFZLENBQUNBLFNBQVN0SSxRQUFRLENBQUMsYUFBYTtnQkFDL0MsT0FBTztvQkFDTDBCLFNBQVM7b0JBQ1RDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLE1BQU00RyxXQUFXekoscURBQUdBLENBQUNLLDhDQUFPQSxFQUFFbUo7WUFDOUIsTUFBTXJKLDhEQUFZQSxDQUFDc0o7WUFFbkJ0RSxRQUFRQyxHQUFHLENBQUMsK0JBQStCb0U7WUFFM0MsT0FBTztnQkFDTDVHLFNBQVM7WUFDWDtRQUNGLEVBQUUsT0FBT0MsT0FBWTtZQUNuQnNDLFFBQVF0QyxLQUFLLENBQUMseUJBQXlCQTtZQUN2QyxPQUFPO2dCQUNMRCxTQUFTO2dCQUNUQyxPQUFPQSxNQUFNMEcsT0FBTyxJQUFJO1lBQzFCO1FBQ0Y7SUFDRjtJQUVBLDBCQUEwQjtJQUMxQixhQUFhRyxxQkFBcUIxSCxRQUFnQixFQUFFbEMsS0FBYyxFQUE0QjtRQUM1RixJQUFJO1lBQ0YsSUFBSSxDQUFDa0MsWUFBWUEsU0FBU1QsSUFBSSxPQUFPLElBQUk7Z0JBQ3ZDLE9BQU87b0JBQ0xxQixTQUFTO29CQUNUQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxJQUFJNkMsSUFBSWpHLHlEQUFLQSxDQUNYTCw4REFBVUEsQ0FBQ2dCLHlDQUFFQSxFQUFFSyxrQkFDZmIseURBQUtBLENBQUMsWUFBWSxNQUFNb0MsV0FDeEJwQyx5REFBS0EsQ0FBQyxVQUFVLE1BQU0sY0FDdEJGLDJEQUFPQSxDQUFDLGFBQWE7WUFHdkIsSUFBSUksT0FBTztnQkFDVDRGLElBQUlqRyx5REFBS0EsQ0FBQ2lHLEdBQUc1RixNQUFNQTtZQUNyQjtZQUVBLE1BQU04RixnQkFBZ0IsTUFBTXBHLDJEQUFPQSxDQUFDa0c7WUFFcEMsTUFBTUcsVUFBb0IsRUFBRTtZQUM1QkQsY0FBY0UsT0FBTyxDQUFDLENBQUNDO29CQUlScEYsaUJBQ0FBO2dCQUpiLE1BQU1BLE9BQU9vRixJQUFJcEYsSUFBSTtnQkFDckJrRixRQUFRL0QsSUFBSSxDQUFDO29CQUNYLEdBQUduQixJQUFJO29CQUNQdUMsV0FBV3ZDLEVBQUFBLGtCQUFBQSxLQUFLdUMsU0FBUyxjQUFkdkMsc0NBQUFBLGdCQUFnQnNGLE1BQU0sT0FBTSxJQUFJM0I7b0JBQzNDbkIsV0FBV3hDLEVBQUFBLGtCQUFBQSxLQUFLd0MsU0FBUyxjQUFkeEMsc0NBQUFBLGdCQUFnQnNGLE1BQU0sT0FBTSxJQUFJM0I7Z0JBQzdDO1lBQ0Y7WUFFQSxPQUFPO2dCQUNMMUIsU0FBUztnQkFDVGpDLE1BQU1rRjtZQUNSO1FBQ0YsRUFBRSxPQUFPaEQsT0FBWTtZQUNuQnNDLFFBQVF0QyxLQUFLLENBQUMsdUNBQXVDQTtZQUNyRCxNQUFNMEMsZUFBZWpGLCtEQUFvQkEsQ0FBQ3VDO1lBQzFDLE9BQU87Z0JBQ0xELFNBQVM7Z0JBQ1RDLE9BQU8wQztZQUNUO1FBQ0Y7SUFDRjtJQUVBLDZCQUE2QjtJQUM3QixhQUFhb0Usb0JBQW9CN0osS0FBYyxFQUE0QjtRQUN6RSxPQUFPLElBQUksQ0FBQzBGLGFBQWEsQ0FBQztZQUN4QnBDLFFBQVE7WUFDUnRELE9BQU9BLFNBQVM7UUFDbEI7SUFDRjtJQUVBLHlCQUF5QjtJQUN6QixhQUFhOEosZ0JBQWdCOUosS0FBYyxFQUE0QjtRQUNyRSxPQUFPLElBQUksQ0FBQzBGLGFBQWEsQ0FBQztZQUN4QnBDLFFBQVE7WUFDUnRELE9BQU9BLFNBQVM7UUFDbEI7SUFDRjtJQUVBLGlCQUFpQjtJQUNqQixhQUFhK0osY0FBYzNELFVBQWtCLEVBQUVULE9BSzlDLEVBQTRCO1FBQzNCLElBQUk7WUFDRixJQUFJLENBQUNTLGNBQWNBLFdBQVczRSxJQUFJLE9BQU8sSUFBSTtnQkFDM0MsT0FBTyxJQUFJLENBQUNpRSxhQUFhLENBQUNDO1lBQzVCO1lBRUEsT0FBTyxJQUFJLENBQUNELGFBQWEsQ0FBQztnQkFDeEIsR0FBR0MsT0FBTztnQkFDVlMsWUFBWUEsV0FBVzNFLElBQUk7WUFDN0I7UUFDRixFQUFFLE9BQU9zQixPQUFZO1lBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDLE1BQU0wQyxlQUFlakYsK0RBQW9CQSxDQUFDdUM7WUFDMUMsT0FBTztnQkFDTEQsU0FBUztnQkFDVEMsT0FBTzBDO1lBQ1Q7UUFDRjtJQUNGO0lBRUEsd0JBQXdCO0lBQ3hCLGFBQWF1RSxpQkFZVjtRQUNELElBQUk7WUFDRixNQUFNQyxXQUFXLE1BQU0sSUFBSSxDQUFDdkUsYUFBYTtZQUV6QyxJQUFJLENBQUN1RSxTQUFTbkgsT0FBTyxJQUFJLENBQUNtSCxTQUFTcEosSUFBSSxFQUFFO2dCQUN2QyxPQUFPO29CQUNMaUMsU0FBUztvQkFDVEMsT0FBT2tILFNBQVNsSCxLQUFLLElBQUk7Z0JBQzNCO1lBQ0Y7WUFFQSxNQUFNZ0QsVUFBVWtFLFNBQVNwSixJQUFJO1lBQzdCLE1BQU1xSixRQUFRO2dCQUNaQyxjQUFjcEUsUUFBUWhFLE1BQU07Z0JBQzVCcUksa0JBQWtCckUsUUFBUXhFLE1BQU0sQ0FBQzhJLENBQUFBLElBQUtBLEVBQUUvRyxNQUFNLEtBQUssYUFBYXZCLE1BQU07Z0JBQ3RFdUksY0FBY3ZFLFFBQVF4RSxNQUFNLENBQUM4SSxDQUFBQSxJQUFLQSxFQUFFL0csTUFBTSxLQUFLLFNBQVN2QixNQUFNO2dCQUM5RHdJLGVBQWV4RSxRQUFReUUsTUFBTSxDQUFDLENBQUNDLEtBQUtKLElBQU1JLE1BQU9KLENBQUFBLEVBQUUzRyxnQkFBZ0IsSUFBSSxJQUFJO2dCQUMzRWdILGNBQWMzRSxRQUFReUUsTUFBTSxDQUFDLENBQUNDLEtBQUtKLElBQU1JLE1BQU8sQ0FBQ0osRUFBRTlILEtBQUssSUFBSSxLQUFNOEgsQ0FBQUEsRUFBRTNHLGdCQUFnQixJQUFJLElBQUs7Z0JBQzdGaUgsWUFBWSxDQUFDO2dCQUNiQyxRQUFRLENBQUM7WUFDWDtZQUVBLGtDQUFrQztZQUNsQzdFLFFBQVFDLE9BQU8sQ0FBQ0UsQ0FBQUE7Z0JBQ2QsSUFBSUEsT0FBT2hFLFFBQVEsRUFBRTtvQkFDbkJnSSxNQUFNUyxVQUFVLENBQUN6RSxPQUFPaEUsUUFBUSxDQUFDLEdBQUcsQ0FBQ2dJLE1BQU1TLFVBQVUsQ0FBQ3pFLE9BQU9oRSxRQUFRLENBQUMsSUFBSSxLQUFLO2dCQUNqRjtZQUNGO1lBRUEsK0JBQStCO1lBQy9CNkQsUUFBUUMsT0FBTyxDQUFDRSxDQUFBQTtnQkFDZCxJQUFJQSxPQUFPL0QsS0FBSyxFQUFFO29CQUNoQitILE1BQU1VLE1BQU0sQ0FBQzFFLE9BQU8vRCxLQUFLLENBQUMsR0FBRyxDQUFDK0gsTUFBTVUsTUFBTSxDQUFDMUUsT0FBTy9ELEtBQUssQ0FBQyxJQUFJLEtBQUs7Z0JBQ25FO1lBQ0Y7WUFFQSxPQUFPO2dCQUNMVyxTQUFTO2dCQUNUakMsTUFBTXFKO1lBQ1I7UUFDRixFQUFFLE9BQU9uSCxPQUFZO1lBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQyxxQ0FBcUNBO1lBQ25ELE1BQU0wQyxlQUFlakYsK0RBQW9CQSxDQUFDdUM7WUFDMUMsT0FBTztnQkFDTEQsU0FBUztnQkFDVEMsT0FBTzBDO1lBQ1Q7UUFDRjtJQUNGO0lBRUEsMkNBQTJDO0lBQzNDLGFBQWFvRixtQkFBbUI1SCxRQUFnQixFQUFFSyxNQUE2QixFQUEyQjtRQUN4RyxJQUFJO1lBQ0YsSUFBSSxDQUFDTCxZQUFZQSxTQUFTeEIsSUFBSSxPQUFPLElBQUk7Z0JBQ3ZDLE9BQU87b0JBQ0xxQixTQUFTO29CQUNUQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxJQUFJLENBQUM7Z0JBQUM7Z0JBQVM7YUFBWSxDQUFDM0IsUUFBUSxDQUFDa0MsU0FBUztnQkFDNUMsT0FBTztvQkFDTFIsU0FBUztvQkFDVEMsT0FBTztnQkFDVDtZQUNGO1lBRUEsT0FBTyxJQUFJLENBQUNnRSxZQUFZLENBQUM5RCxVQUFVO2dCQUNqQ0s7Z0JBQ0FpQixhQUFhLElBQUlDLE9BQU9DLFdBQVc7WUFDckM7UUFDRixFQUFFLE9BQU8xQixPQUFZO1lBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DLE1BQU0wQyxlQUFlakYsK0RBQW9CQSxDQUFDdUM7WUFDMUMsT0FBTztnQkFDTEQsU0FBUztnQkFDVEMsT0FBTzBDO1lBQ1Q7UUFDRjtJQUNGO0lBRUEsbUJBQW1CO0lBQ25CLGFBQWFxRixnQkFBZ0I3SCxRQUFnQixFQUFFOEgsUUFBaUIsRUFBMkI7UUFDekYsSUFBSTtZQUNGLE1BQU1DLGlCQUFpQixNQUFNLElBQUksQ0FBQ3JFLGFBQWEsQ0FBQzFEO1lBRWhELElBQUksQ0FBQytILGVBQWVsSSxPQUFPLElBQUksQ0FBQ2tJLGVBQWVuSyxJQUFJLEVBQUU7Z0JBQ25ELE9BQU87b0JBQ0xpQyxTQUFTO29CQUNUQyxPQUFPaUksZUFBZWpJLEtBQUssSUFBSTtnQkFDakM7WUFDRjtZQUVBLE1BQU1tRCxTQUFTOEUsZUFBZW5LLElBQUk7WUFDbEMsTUFBTW9LLG1CQUE4QjtnQkFDbEMsR0FBRy9FLE1BQU07Z0JBQ1RwRSxPQUFPaUosWUFBWSxHQUFnQixPQUFiN0UsT0FBT3BFLEtBQUssRUFBQztnQkFDbkNxQyxNQUFNLENBQUM0RyxZQUFZLEdBQWdCLE9BQWI3RSxPQUFPcEUsS0FBSyxFQUFDLFVBQU8sRUFBR3NDLFdBQVcsR0FBR0MsT0FBTyxDQUFDLFFBQVEsS0FBS0EsT0FBTyxDQUFDLGVBQWU7Z0JBQ3ZHZixRQUFRO2dCQUNSSSxrQkFBa0I7Z0JBQ2xCSCxRQUFRO2dCQUNSRSxjQUFjO2dCQUNkYyxhQUFhLElBQUlDLE9BQU9DLFdBQVc7WUFDckM7WUFFQSw2Q0FBNkM7WUFDN0MsT0FBTyxpQkFBMEJ0QixHQUFHO1lBQ3BDLE9BQU8saUJBQTBCQyxTQUFTO1lBQzFDLE9BQU8saUJBQTBCQyxTQUFTO1lBRTFDLE9BQU8sSUFBSSxDQUFDVCxZQUFZLENBQUNxSTtRQUMzQixFQUFFLE9BQU9sSSxPQUFZO1lBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQyw2QkFBNkJBO1lBQzNDLE1BQU0wQyxlQUFlakYsK0RBQW9CQSxDQUFDdUM7WUFDMUMsT0FBTztnQkFDTEQsU0FBUztnQkFDVEMsT0FBTzBDO1lBQ1Q7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9jb3Vyc2VTZXJ2aWNlLnRzPzM3NDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXG4gIGNvbGxlY3Rpb24sIFxuICBhZGREb2MsIFxuICB1cGRhdGVEb2MsIFxuICBkZWxldGVEb2MsIFxuICBnZXREb2NzLCBcbiAgZG9jLCBcbiAgZ2V0RG9jLFxuICBxdWVyeSxcbiAgb3JkZXJCeSxcbiAgc2VydmVyVGltZXN0YW1wLFxuICB3aGVyZSxcbiAgd3JpdGVCYXRjaCxcbiAgbGltaXQsXG4gIHN0YXJ0QWZ0ZXIsXG4gIERvY3VtZW50U25hcHNob3Rcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IHJlZiwgdXBsb2FkQnl0ZXMsIGdldERvd25sb2FkVVJMLCBkZWxldGVPYmplY3QgfSBmcm9tICdmaXJlYmFzZS9zdG9yYWdlJztcbmltcG9ydCB7IGRiLCBzdG9yYWdlLCBoYW5kbGVGaXJlc3RvcmVFcnJvciB9IGZyb20gJy4vZmlyZWJhc2UnO1xuaW1wb3J0IHsgQ291cnNlLCBOZXdDb3Vyc2UsIENvdXJzZXNSZXNwb25zZSwgQ291cnNlUmVzcG9uc2UgfSBmcm9tICdAL3R5cGVzL2NvdXJzZXMnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5cbmNvbnN0IENPTExFQ1RJT05fTkFNRSA9ICdjb3Vyc2VzJztcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNsZWFuIGRhdGEgYmVmb3JlIHNlbmRpbmcgdG8gRmlyZXN0b3JlXG5jb25zdCBjbGVhbkNvdXJzZURhdGEgPSAoZGF0YTogYW55KSA9PiB7XG4gIGNvbnN0IGNsZWFuZWQ6IGFueSA9IHt9O1xuICBcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAvLyBTa2lwIHVuZGVmaW5lZCB2YWx1ZXMgYW5kIGZ1bmN0aW9uc1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBkYXRhIHR5cGVzIGFwcHJvcHJpYXRlbHlcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBDb252ZXJ0IG51bGwgdG8gYXBwcm9wcmlhdGUgZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgaWYgKFsncGF5bWVudExpbmsnLCAnYmFja2dyb3VuZEltYWdlJywgJ2NlcnRpZmljYXRlSW1hZ2UnLCAnZ2xvYmFsU3RhdHVzJywgJ3N0YXJ0RGF0ZSddLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICBjbGVhbmVkW2tleV0gPSAnJztcbiAgICAgICAgfSBlbHNlIGlmIChbJ2xlYXJuaW5nT3V0Y29tZXMnLCAnZmVhdHVyZXMnLCAnc2tpbGxzJywgJ3JlcXVpcmVtZW50cycsICdtb2R1bGUnLCAnaGlnaGxpZ2h0cycsICdwcm9qZWN0JywgJ3Byb2dyYW1Gb3InXS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgY2xlYW5lZFtrZXldID0gW107XG4gICAgICAgIH0gZWxzZSBpZiAoWydyYXRpbmcnLCAndG90YWxSYXRpbmdzJywgJ2Vucm9sbGVkU3R1ZGVudHMnLCAncHJpY2UnLCAnb3JpZ2luYWxQcmljZSddLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICBjbGVhbmVkW2tleV0gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsZWFuZWRba2V5XSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIEVuc3VyZSBhcnJheXMgYXJlIHByb3Blcmx5IGZvcm1hdHRlZFxuICAgICAgICBjbGVhbmVkW2tleV0gPSB2YWx1ZS5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSBudWxsICYmIGl0ZW0gIT09IHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gVHJpbSBzdHJpbmdzIGFuZCBoYW5kbGUgZW1wdHkgdmFsdWVzXG4gICAgICAgIGNsZWFuZWRba2V5XSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNsZWFuIG5lc3RlZCBvYmplY3RzXG4gICAgICAgIGNsZWFuZWRba2V5XSA9IGNsZWFuQ291cnNlRGF0YSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhbmVkW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBjbGVhbmVkO1xufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHZhbGlkYXRlIGNvdXJzZSBkYXRhXG5jb25zdCB2YWxpZGF0ZUNvdXJzZURhdGEgPSAoY291cnNlRGF0YTogYW55KTogeyBpc1ZhbGlkOiBib29sZWFuOyBlcnJvcnM6IHN0cmluZ1tdIH0gPT4ge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gIFxuICBpZiAoIWNvdXJzZURhdGEudGl0bGUgfHwgY291cnNlRGF0YS50aXRsZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgZXJyb3JzLnB1c2goJ1RpdGxlIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIGlmICghY291cnNlRGF0YS5zaG9ydERlc2NyaXB0aW9uIHx8IGNvdXJzZURhdGEuc2hvcnREZXNjcmlwdGlvbi50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgZXJyb3JzLnB1c2goJ1Nob3J0IGRlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIGlmICghY291cnNlRGF0YS5jYXRlZ29yeSB8fCBjb3Vyc2VEYXRhLmNhdGVnb3J5LnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICBlcnJvcnMucHVzaCgnQ2F0ZWdvcnkgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBcbiAgaWYgKCFjb3Vyc2VEYXRhLmxldmVsIHx8ICFbJ2JlZ2lubmVyJywgJ2ludGVybWVkaWF0ZScsICdhZHZhbmNlZCddLmluY2x1ZGVzKGNvdXJzZURhdGEubGV2ZWwpKSB7XG4gICAgZXJyb3JzLnB1c2goJ1ZhbGlkIGxldmVsIGlzIHJlcXVpcmVkIChiZWdpbm5lciwgaW50ZXJtZWRpYXRlLCBvciBhZHZhbmNlZCknKTtcbiAgfVxuICBcbiAgaWYgKCFjb3Vyc2VEYXRhLmxhbmd1YWdlIHx8IGNvdXJzZURhdGEubGFuZ3VhZ2UudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgIGVycm9ycy5wdXNoKCdMYW5ndWFnZSBpcyByZXF1aXJlZCcpO1xuICB9XG4gIFxuICBpZiAoIWNvdXJzZURhdGEuZHVyYXRpb24gfHwgY291cnNlRGF0YS5kdXJhdGlvbi50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgZXJyb3JzLnB1c2goJ0R1cmF0aW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIGlmICghY291cnNlRGF0YS5ob3VycyB8fCBjb3Vyc2VEYXRhLmhvdXJzLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICBlcnJvcnMucHVzaCgnSG91cnMgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBcbiAgaWYgKGNvdXJzZURhdGEucHJpY2UgPCAwIHx8IGlzTmFOKGNvdXJzZURhdGEucHJpY2UpKSB7XG4gICAgZXJyb3JzLnB1c2goJ1ByaWNlIG11c3QgYmUgYSB2YWxpZCBudW1iZXIgKDAgb3IgZ3JlYXRlciknKTtcbiAgfVxuICBcbiAgaWYgKGNvdXJzZURhdGEub3JpZ2luYWxQcmljZSA8IDAgfHwgaXNOYU4oY291cnNlRGF0YS5vcmlnaW5hbFByaWNlKSkge1xuICAgIGVycm9ycy5wdXNoKCdPcmlnaW5hbCBwcmljZSBtdXN0IGJlIGEgdmFsaWQgbnVtYmVyICgwIG9yIGdyZWF0ZXIpJyk7XG4gIH1cbiAgXG4gIGlmIChjb3Vyc2VEYXRhLm9yaWdpbmFsUHJpY2UgPiAwICYmIGNvdXJzZURhdGEucHJpY2UgPiBjb3Vyc2VEYXRhLm9yaWdpbmFsUHJpY2UpIHtcbiAgICBlcnJvcnMucHVzaCgnUHJpY2UgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBvcmlnaW5hbCBwcmljZScpO1xuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgZXJyb3JzXG4gIH07XG59O1xuXG5leHBvcnQgY2xhc3MgQ291cnNlU2VydmljZSB7XG4gIC8vIENyZWF0ZSBhIG5ldyBjb3Vyc2VcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUNvdXJzZShjb3Vyc2VEYXRhOiBOZXdDb3Vyc2UpOiBQcm9taXNlPENvdXJzZVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFZhbGlkYXRlIGNvdXJzZSBkYXRhXG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVDb3Vyc2VEYXRhKGNvdXJzZURhdGEpO1xuICAgICAgaWYgKCF2YWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogYFZhbGlkYXRpb24gZmFpbGVkOiAke3ZhbGlkYXRpb24uZXJyb3JzLmpvaW4oJywgJyl9YFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb3Vyc2VJZCA9IHV1aWR2NCgpO1xuICAgICAgXG4gICAgICBjb25zdCBjb3Vyc2VXaXRoTWV0YWRhdGEgPSB7XG4gICAgICAgIC4uLmNvdXJzZURhdGEsXG4gICAgICAgIF9pZDogY291cnNlSWQsXG4gICAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIHN0YXR1czogY291cnNlRGF0YS5zdGF0dXMgfHwgJ2RyYWZ0JyxcbiAgICAgICAgLy8gRW5zdXJlIHRoZXNlIGZpZWxkcyBhcmUgbnVtYmVyc1xuICAgICAgICByYXRpbmc6IE51bWJlcihjb3Vyc2VEYXRhLnJhdGluZykgfHwgMCxcbiAgICAgICAgdG90YWxSYXRpbmdzOiBOdW1iZXIoY291cnNlRGF0YS50b3RhbFJhdGluZ3MpIHx8IDAsXG4gICAgICAgIGVucm9sbGVkU3R1ZGVudHM6IE51bWJlcihjb3Vyc2VEYXRhLmVucm9sbGVkU3R1ZGVudHMpIHx8IDAsXG4gICAgICAgIHByaWNlOiBOdW1iZXIoY291cnNlRGF0YS5wcmljZSkgfHwgMCxcbiAgICAgICAgb3JpZ2luYWxQcmljZTogTnVtYmVyKGNvdXJzZURhdGEub3JpZ2luYWxQcmljZSkgfHwgMCxcbiAgICAgICAgLy8gRW5zdXJlIGFycmF5cyBhcmUgcHJvcGVybHkgaW5pdGlhbGl6ZWRcbiAgICAgICAgbGVhcm5pbmdPdXRjb21lczogQXJyYXkuaXNBcnJheShjb3Vyc2VEYXRhLmxlYXJuaW5nT3V0Y29tZXMpID8gY291cnNlRGF0YS5sZWFybmluZ091dGNvbWVzLmZpbHRlcihpdGVtID0+IGl0ZW0gJiYgaXRlbS50cmltKCkpIDogW10sXG4gICAgICAgIGZlYXR1cmVzOiBBcnJheS5pc0FycmF5KGNvdXJzZURhdGEuZmVhdHVyZXMpID8gY291cnNlRGF0YS5mZWF0dXJlcy5maWx0ZXIoaXRlbSA9PiBpdGVtICYmIGl0ZW0udHJpbSgpKSA6IFtdLFxuICAgICAgICBza2lsbHM6IEFycmF5LmlzQXJyYXkoY291cnNlRGF0YS5za2lsbHMpID8gY291cnNlRGF0YS5za2lsbHMuZmlsdGVyKGl0ZW0gPT4gaXRlbSAmJiBpdGVtLnRyaW0oKSkgOiBbXSxcbiAgICAgICAgcmVxdWlyZW1lbnRzOiBBcnJheS5pc0FycmF5KGNvdXJzZURhdGEucmVxdWlyZW1lbnRzKSA/IGNvdXJzZURhdGEucmVxdWlyZW1lbnRzLmZpbHRlcihpdGVtID0+IGl0ZW0gJiYgaXRlbS50cmltKCkpIDogW10sXG4gICAgICAgIG1vZHVsZTogQXJyYXkuaXNBcnJheShjb3Vyc2VEYXRhLm1vZHVsZSkgPyBjb3Vyc2VEYXRhLm1vZHVsZSA6IFtdLFxuICAgICAgICBoaWdobGlnaHRzOiBBcnJheS5pc0FycmF5KGNvdXJzZURhdGEuaGlnaGxpZ2h0cykgPyBjb3Vyc2VEYXRhLmhpZ2hsaWdodHMgOiBbXSxcbiAgICAgICAgcHJvamVjdDogQXJyYXkuaXNBcnJheShjb3Vyc2VEYXRhLnByb2plY3QpID8gY291cnNlRGF0YS5wcm9qZWN0IDogW10sXG4gICAgICAgIHByb2dyYW1Gb3I6IEFycmF5LmlzQXJyYXkoY291cnNlRGF0YS5wcm9ncmFtRm9yKSA/IGNvdXJzZURhdGEucHJvZ3JhbUZvciA6IFtdLFxuICAgICAgICAvLyBFbnN1cmUgc3RyaW5ncyBhcmUgbm90IHVuZGVmaW5lZFxuICAgICAgICB0aXRsZTogY291cnNlRGF0YS50aXRsZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICBzbHVnOiBjb3Vyc2VEYXRhLnNsdWc/LnRyaW0oKSB8fCBjb3Vyc2VEYXRhLnRpdGxlPy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKS5yZXBsYWNlKC9bXmEtejAtOS1dL2csICcnKSB8fCAnJyxcbiAgICAgICAgc2hvcnREZXNjcmlwdGlvbjogY291cnNlRGF0YS5zaG9ydERlc2NyaXB0aW9uPy50cmltKCkgfHwgJycsXG4gICAgICAgIGNhdGVnb3J5OiBjb3Vyc2VEYXRhLmNhdGVnb3J5Py50cmltKCkgfHwgJycsXG4gICAgICAgIGxldmVsOiBjb3Vyc2VEYXRhLmxldmVsIHx8ICdiZWdpbm5lcicsXG4gICAgICAgIGxhbmd1YWdlOiBjb3Vyc2VEYXRhLmxhbmd1YWdlPy50cmltKCkgfHwgJycsXG4gICAgICAgIGR1cmF0aW9uOiBjb3Vyc2VEYXRhLmR1cmF0aW9uPy50cmltKCkgfHwgJycsXG4gICAgICAgIGhvdXJzOiBjb3Vyc2VEYXRhLmhvdXJzPy50cmltKCkgfHwgJycsXG4gICAgICAgIHByb2dyYW1CeTogY291cnNlRGF0YS5wcm9ncmFtQnk/LnRyaW0oKSB8fCAnQWRtaW4nLFxuICAgICAgICBsYXN0VXBkYXRlZDogY291cnNlRGF0YS5sYXN0VXBkYXRlZCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHBheW1lbnRMaW5rOiBjb3Vyc2VEYXRhLnBheW1lbnRMaW5rPy50cmltKCkgfHwgJycsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogY291cnNlRGF0YS5iYWNrZ3JvdW5kSW1hZ2U/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgY2VydGlmaWNhdGVJbWFnZTogY291cnNlRGF0YS5jZXJ0aWZpY2F0ZUltYWdlPy50cmltKCkgfHwgJycsXG4gICAgICAgIGdsb2JhbFN0YXR1czogY291cnNlRGF0YS5nbG9iYWxTdGF0dXM/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgc3RhcnREYXRlOiBjb3Vyc2VEYXRhLnN0YXJ0RGF0ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAvLyBFbnN1cmUgdG9vbHNEYXRhIGhhcyBwcm9wZXIgc3RydWN0dXJlXG4gICAgICAgIHRvb2xzRGF0YTogY291cnNlRGF0YS50b29sc0RhdGEgfHwge1xuICAgICAgICAgIHNlY3Rpb25UaXRsZTogJycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgIHRvb2xzQ291bnQ6ICcwJyxcbiAgICAgICAgICBkaXNwbGF5SW1hZ2U6ICcnLFxuICAgICAgICAgIHRvb2xzOiBbXVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBDbGVhbiB0aGUgZGF0YSBiZWZvcmUgc2VuZGluZ1xuICAgICAgY29uc3QgY2xlYW5lZERhdGEgPSBjbGVhbkNvdXJzZURhdGEoY291cnNlV2l0aE1ldGFkYXRhKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIGNvdXJzZSB3aXRoIGNsZWFuZWQgZGF0YTonLCB7XG4gICAgICAgIHRpdGxlOiBjbGVhbmVkRGF0YS50aXRsZSxcbiAgICAgICAgc3RhdHVzOiBjbGVhbmVkRGF0YS5zdGF0dXMsXG4gICAgICAgIHByaWNlOiBjbGVhbmVkRGF0YS5wcmljZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCBDT0xMRUNUSU9OX05BTUUpLCBjbGVhbmVkRGF0YSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNyZWF0ZWRDb3Vyc2U6IENvdXJzZSA9IHtcbiAgICAgICAgLi4uY2xlYW5lZERhdGEsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICB9IGFzIENvdXJzZTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogY3JlYXRlZENvdXJzZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBjb3Vyc2U6JywgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaGFuZGxlRmlyZXN0b3JlRXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGFsbCBjb3Vyc2VzIHdpdGggb3B0aW9uYWwgcGFnaW5hdGlvbiBhbmQgZmlsdGVyaW5nXG4gIHN0YXRpYyBhc3luYyBnZXRBbGxDb3Vyc2VzKG9wdGlvbnM/OiB7XG4gICAgbGltaXQ/OiBudW1iZXI7XG4gICAgbGFzdERvYz86IERvY3VtZW50U25hcHNob3Q7XG4gICAgc3RhdHVzPzogJ2RyYWZ0JyB8ICdwdWJsaXNoZWQnO1xuICAgIGNhdGVnb3J5Pzogc3RyaW5nO1xuICAgIHNlYXJjaFRlcm0/OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPENvdXJzZXNSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsIENPTExFQ1RJT05fTkFNRSkpO1xuICAgICAgXG4gICAgICAvLyBBZGQgZmlsdGVyc1xuICAgICAgaWYgKG9wdGlvbnM/LnN0YXR1cykge1xuICAgICAgICBxID0gcXVlcnkocSwgd2hlcmUoJ3N0YXR1cycsICc9PScsIG9wdGlvbnMuc3RhdHVzKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChvcHRpb25zPy5jYXRlZ29yeSkge1xuICAgICAgICBxID0gcXVlcnkocSwgd2hlcmUoJ2NhdGVnb3J5JywgJz09Jywgb3B0aW9ucy5jYXRlZ29yeSkpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgb3JkZXJpbmdcbiAgICAgIHEgPSBxdWVyeShxLCBvcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHBhZ2luYXRpb25cbiAgICAgIGlmIChvcHRpb25zPy5saW1pdCkge1xuICAgICAgICBxID0gcXVlcnkocSwgbGltaXQob3B0aW9ucy5saW1pdCkpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAob3B0aW9ucz8ubGFzdERvYykge1xuICAgICAgICBxID0gcXVlcnkocSwgc3RhcnRBZnRlcihvcHRpb25zLmxhc3REb2MpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNvdXJzZXM6IENvdXJzZVtdID0gW107XG4gICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgICAgY29uc3QgY291cnNlOiBDb3Vyc2UgPSB7XG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGEuY3JlYXRlZEF0Py50b0RhdGUoKSB8fCBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogZGF0YS51cGRhdGVkQXQ/LnRvRGF0ZSgpIHx8IG5ldyBEYXRlKCksXG4gICAgICAgICAgLy8gRW5zdXJlIHJlcXVpcmVkIGZpZWxkcyBoYXZlIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgICAgcmF0aW5nOiBOdW1iZXIoZGF0YS5yYXRpbmcpIHx8IDAsXG4gICAgICAgICAgdG90YWxSYXRpbmdzOiBOdW1iZXIoZGF0YS50b3RhbFJhdGluZ3MpIHx8IDAsXG4gICAgICAgICAgZW5yb2xsZWRTdHVkZW50czogTnVtYmVyKGRhdGEuZW5yb2xsZWRTdHVkZW50cykgfHwgMCxcbiAgICAgICAgICBwcmljZTogTnVtYmVyKGRhdGEucHJpY2UpIHx8IDAsXG4gICAgICAgICAgb3JpZ2luYWxQcmljZTogTnVtYmVyKGRhdGEub3JpZ2luYWxQcmljZSkgfHwgMCxcbiAgICAgICAgICBsZWFybmluZ091dGNvbWVzOiBBcnJheS5pc0FycmF5KGRhdGEubGVhcm5pbmdPdXRjb21lcykgPyBkYXRhLmxlYXJuaW5nT3V0Y29tZXMgOiBbXSxcbiAgICAgICAgICBmZWF0dXJlczogQXJyYXkuaXNBcnJheShkYXRhLmZlYXR1cmVzKSA/IGRhdGEuZmVhdHVyZXMgOiBbXSxcbiAgICAgICAgICBza2lsbHM6IEFycmF5LmlzQXJyYXkoZGF0YS5za2lsbHMpID8gZGF0YS5za2lsbHMgOiBbXSxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IEFycmF5LmlzQXJyYXkoZGF0YS5yZXF1aXJlbWVudHMpID8gZGF0YS5yZXF1aXJlbWVudHMgOiBbXSxcbiAgICAgICAgICBtb2R1bGU6IEFycmF5LmlzQXJyYXkoZGF0YS5tb2R1bGUpID8gZGF0YS5tb2R1bGUgOiBbXSxcbiAgICAgICAgICBoaWdobGlnaHRzOiBBcnJheS5pc0FycmF5KGRhdGEuaGlnaGxpZ2h0cykgPyBkYXRhLmhpZ2hsaWdodHMgOiBbXSxcbiAgICAgICAgICBwcm9qZWN0OiBBcnJheS5pc0FycmF5KGRhdGEucHJvamVjdCkgPyBkYXRhLnByb2plY3QgOiBbXSxcbiAgICAgICAgICBwcm9ncmFtRm9yOiBBcnJheS5pc0FycmF5KGRhdGEucHJvZ3JhbUZvcikgPyBkYXRhLnByb2dyYW1Gb3IgOiBbXSxcbiAgICAgICAgICB0b29sc0RhdGE6IGRhdGEudG9vbHNEYXRhIHx8IHtcbiAgICAgICAgICAgIHNlY3Rpb25UaXRsZTogJycsXG4gICAgICAgICAgICBjYXRlZ29yeTogJycsXG4gICAgICAgICAgICB0b29sc0NvdW50OiAnMCcsXG4gICAgICAgICAgICBkaXNwbGF5SW1hZ2U6ICcnLFxuICAgICAgICAgICAgdG9vbHM6IFtdXG4gICAgICAgICAgfVxuICAgICAgICB9IGFzIENvdXJzZTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFwcGx5IHNlYXJjaCBmaWx0ZXIgb24gY2xpZW50IHNpZGUgKGZvciBzaW1wbGljaXR5KVxuICAgICAgICBpZiAob3B0aW9ucz8uc2VhcmNoVGVybSkge1xuICAgICAgICAgIGNvbnN0IHNlYXJjaExvd2VyID0gb3B0aW9ucy5zZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3QgbWF0Y2hlc1NlYXJjaCA9IFxuICAgICAgICAgICAgY291cnNlLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8XG4gICAgICAgICAgICBjb3Vyc2UuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHxcbiAgICAgICAgICAgIGNvdXJzZS5zaG9ydERlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8XG4gICAgICAgICAgICBjb3Vyc2UucHJvZ3JhbUJ5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChtYXRjaGVzU2VhcmNoKSB7XG4gICAgICAgICAgICBjb3Vyc2VzLnB1c2goY291cnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291cnNlcy5wdXNoKGNvdXJzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBjb3Vyc2VzLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgdG90YWw6IGNvdXJzZXMubGVuZ3RoLFxuICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgcGFnZXM6IDFcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb3Vyc2VzOicsIGVycm9yKTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGhhbmRsZUZpcmVzdG9yZUVycm9yKGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBjb3Vyc2UgYnkgSURcbiAgc3RhdGljIGFzeW5jIGdldENvdXJzZUJ5SWQoY291cnNlSWQ6IHN0cmluZyk6IFByb21pc2U8Q291cnNlUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFjb3Vyc2VJZCB8fCBjb3Vyc2VJZC50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdDb3Vyc2UgSUQgaXMgcmVxdWlyZWQnXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCBDT0xMRUNUSU9OX05BTUUpLCB3aGVyZSgnX2lkJywgJz09JywgY291cnNlSWQpKTtcbiAgICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgXG4gICAgICBpZiAocXVlcnlTbmFwc2hvdC5lbXB0eSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnQ291cnNlIG5vdCBmb3VuZCdcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZG9jID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdO1xuICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICBjb25zdCBjb3Vyc2U6IENvdXJzZSA9IHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdD8udG9EYXRlKCkgfHwgbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBkYXRhLnVwZGF0ZWRBdD8udG9EYXRlKCkgfHwgbmV3IERhdGUoKSxcbiAgICAgICAgLy8gRW5zdXJlIHJlcXVpcmVkIGZpZWxkcyBoYXZlIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgIHJhdGluZzogTnVtYmVyKGRhdGEucmF0aW5nKSB8fCAwLFxuICAgICAgICB0b3RhbFJhdGluZ3M6IE51bWJlcihkYXRhLnRvdGFsUmF0aW5ncykgfHwgMCxcbiAgICAgICAgZW5yb2xsZWRTdHVkZW50czogTnVtYmVyKGRhdGEuZW5yb2xsZWRTdHVkZW50cykgfHwgMCxcbiAgICAgICAgcHJpY2U6IE51bWJlcihkYXRhLnByaWNlKSB8fCAwLFxuICAgICAgICBvcmlnaW5hbFByaWNlOiBOdW1iZXIoZGF0YS5vcmlnaW5hbFByaWNlKSB8fCAwLFxuICAgICAgICBsZWFybmluZ091dGNvbWVzOiBBcnJheS5pc0FycmF5KGRhdGEubGVhcm5pbmdPdXRjb21lcykgPyBkYXRhLmxlYXJuaW5nT3V0Y29tZXMgOiBbXSxcbiAgICAgICAgZmVhdHVyZXM6IEFycmF5LmlzQXJyYXkoZGF0YS5mZWF0dXJlcykgPyBkYXRhLmZlYXR1cmVzIDogW10sXG4gICAgICAgIHNraWxsczogQXJyYXkuaXNBcnJheShkYXRhLnNraWxscykgPyBkYXRhLnNraWxscyA6IFtdLFxuICAgICAgICByZXF1aXJlbWVudHM6IEFycmF5LmlzQXJyYXkoZGF0YS5yZXF1aXJlbWVudHMpID8gZGF0YS5yZXF1aXJlbWVudHMgOiBbXSxcbiAgICAgICAgbW9kdWxlOiBBcnJheS5pc0FycmF5KGRhdGEubW9kdWxlKSA/IGRhdGEubW9kdWxlIDogW10sXG4gICAgICAgIGhpZ2hsaWdodHM6IEFycmF5LmlzQXJyYXkoZGF0YS5oaWdobGlnaHRzKSA/IGRhdGEuaGlnaGxpZ2h0cyA6IFtdLFxuICAgICAgICBwcm9qZWN0OiBBcnJheS5pc0FycmF5KGRhdGEucHJvamVjdCkgPyBkYXRhLnByb2plY3QgOiBbXSxcbiAgICAgICAgcHJvZ3JhbUZvcjogQXJyYXkuaXNBcnJheShkYXRhLnByb2dyYW1Gb3IpID8gZGF0YS5wcm9ncmFtRm9yIDogW10sXG4gICAgICAgIHRvb2xzRGF0YTogZGF0YS50b29sc0RhdGEgfHwge1xuICAgICAgICAgIHNlY3Rpb25UaXRsZTogJycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgIHRvb2xzQ291bnQ6ICcwJyxcbiAgICAgICAgICBkaXNwbGF5SW1hZ2U6ICcnLFxuICAgICAgICAgIHRvb2xzOiBbXVxuICAgICAgICB9XG4gICAgICB9IGFzIENvdXJzZTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogY291cnNlXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvdXJzZTonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBoYW5kbGVGaXJlc3RvcmVFcnJvcihlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgY291cnNlIGJ5IHNsdWdcbiAgc3RhdGljIGFzeW5jIGdldENvdXJzZUJ5U2x1ZyhzbHVnOiBzdHJpbmcpOiBQcm9taXNlPENvdXJzZVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghc2x1ZyB8fCBzbHVnLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0NvdXJzZSBzbHVnIGlzIHJlcXVpcmVkJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTl9OQU1FKSwgd2hlcmUoJ3NsdWcnLCAnPT0nLCBzbHVnKSk7XG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgIFxuICAgICAgaWYgKHF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0NvdXJzZSBub3QgZm91bmQnXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRvYyA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXTtcbiAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgY29uc3QgY291cnNlOiBDb3Vyc2UgPSB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNyZWF0ZWRBdDogZGF0YS5jcmVhdGVkQXQ/LnRvRGF0ZSgpIHx8IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRBdDogZGF0YS51cGRhdGVkQXQ/LnRvRGF0ZSgpIHx8IG5ldyBEYXRlKClcbiAgICAgIH0gYXMgQ291cnNlO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBjb3Vyc2VcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY291cnNlIGJ5IHNsdWc6JywgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaGFuZGxlRmlyZXN0b3JlRXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIGNvdXJzZVxuICBzdGF0aWMgYXN5bmMgdXBkYXRlQ291cnNlKGNvdXJzZUlkOiBzdHJpbmcsIGNvdXJzZURhdGE6IFBhcnRpYWw8Q291cnNlPik6IFByb21pc2U8Q291cnNlUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFjb3Vyc2VJZCB8fCBjb3Vyc2VJZC50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdDb3Vyc2UgSUQgaXMgcmVxdWlyZWQnXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIHVwZGF0ZWQgZGF0YSBpZiBpdCBjb250YWlucyByZXF1aXJlZCBmaWVsZHNcbiAgICAgIGlmIChjb3Vyc2VEYXRhLnRpdGxlIHx8IGNvdXJzZURhdGEuc2hvcnREZXNjcmlwdGlvbiB8fCBjb3Vyc2VEYXRhLmNhdGVnb3J5KSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZUNvdXJzZURhdGEoe1xuICAgICAgICAgIHRpdGxlOiBjb3Vyc2VEYXRhLnRpdGxlIHx8ICd0ZW1wJyxcbiAgICAgICAgICBzaG9ydERlc2NyaXB0aW9uOiBjb3Vyc2VEYXRhLnNob3J0RGVzY3JpcHRpb24gfHwgJ3RlbXAnLFxuICAgICAgICAgIGNhdGVnb3J5OiBjb3Vyc2VEYXRhLmNhdGVnb3J5IHx8ICd0ZW1wJyxcbiAgICAgICAgICBsZXZlbDogY291cnNlRGF0YS5sZXZlbCB8fCAnYmVnaW5uZXInLFxuICAgICAgICAgIGxhbmd1YWdlOiBjb3Vyc2VEYXRhLmxhbmd1YWdlIHx8ICd0ZW1wJyxcbiAgICAgICAgICBkdXJhdGlvbjogY291cnNlRGF0YS5kdXJhdGlvbiB8fCAndGVtcCcsXG4gICAgICAgICAgaG91cnM6IGNvdXJzZURhdGEuaG91cnMgfHwgJ3RlbXAnLFxuICAgICAgICAgIHByaWNlOiBjb3Vyc2VEYXRhLnByaWNlIHx8IDAsXG4gICAgICAgICAgb3JpZ2luYWxQcmljZTogY291cnNlRGF0YS5vcmlnaW5hbFByaWNlIHx8IDBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBgVmFsaWRhdGlvbiBmYWlsZWQ6ICR7dmFsaWRhdGlvbi5lcnJvcnMuam9pbignLCAnKX1gXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTl9OQU1FKSwgd2hlcmUoJ19pZCcsICc9PScsIGNvdXJzZUlkKSk7XG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgIFxuICAgICAgaWYgKHF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0NvdXJzZSBub3QgZm91bmQnXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRvY1JlZiA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXS5yZWY7XG4gICAgICBcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIC4uLmNvdXJzZURhdGEsXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIC8vIEVuc3VyZSBudW1lcmljIGZpZWxkcyBhcmUgcHJvcGVybHkgdHlwZWRcbiAgICAgICAgLi4uKGNvdXJzZURhdGEucmF0aW5nICE9PSB1bmRlZmluZWQgJiYgeyByYXRpbmc6IE51bWJlcihjb3Vyc2VEYXRhLnJhdGluZykgfSksXG4gICAgICAgIC4uLihjb3Vyc2VEYXRhLnRvdGFsUmF0aW5ncyAhPT0gdW5kZWZpbmVkICYmIHsgdG90YWxSYXRpbmdzOiBOdW1iZXIoY291cnNlRGF0YS50b3RhbFJhdGluZ3MpIH0pLFxuICAgICAgICAuLi4oY291cnNlRGF0YS5lbnJvbGxlZFN0dWRlbnRzICE9PSB1bmRlZmluZWQgJiYgeyBlbnJvbGxlZFN0dWRlbnRzOiBOdW1iZXIoY291cnNlRGF0YS5lbnJvbGxlZFN0dWRlbnRzKSB9KSxcbiAgICAgICAgLi4uKGNvdXJzZURhdGEucHJpY2UgIT09IHVuZGVmaW5lZCAmJiB7IHByaWNlOiBOdW1iZXIoY291cnNlRGF0YS5wcmljZSkgfSksXG4gICAgICAgIC4uLihjb3Vyc2VEYXRhLm9yaWdpbmFsUHJpY2UgIT09IHVuZGVmaW5lZCAmJiB7IG9yaWdpbmFsUHJpY2U6IE51bWJlcihjb3Vyc2VEYXRhLm9yaWdpbmFsUHJpY2UpIH0pLFxuICAgICAgICAvLyBFbnN1cmUgYXJyYXlzIGFyZSBwcm9wZXJseSBmaWx0ZXJlZFxuICAgICAgICAuLi4oY291cnNlRGF0YS5sZWFybmluZ091dGNvbWVzICYmIHsgXG4gICAgICAgICAgbGVhcm5pbmdPdXRjb21lczogQXJyYXkuaXNBcnJheShjb3Vyc2VEYXRhLmxlYXJuaW5nT3V0Y29tZXMpIFxuICAgICAgICAgICAgPyBjb3Vyc2VEYXRhLmxlYXJuaW5nT3V0Y29tZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbSAmJiBpdGVtLnRyaW0oKSkgXG4gICAgICAgICAgICA6IFtdIFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGNvdXJzZURhdGEuZmVhdHVyZXMgJiYgeyBcbiAgICAgICAgICBmZWF0dXJlczogQXJyYXkuaXNBcnJheShjb3Vyc2VEYXRhLmZlYXR1cmVzKSBcbiAgICAgICAgICAgID8gY291cnNlRGF0YS5mZWF0dXJlcy5maWx0ZXIoaXRlbSA9PiBpdGVtICYmIGl0ZW0udHJpbSgpKSBcbiAgICAgICAgICAgIDogW10gXG4gICAgICAgIH0pLFxuICAgICAgICAuLi4oY291cnNlRGF0YS5za2lsbHMgJiYgeyBcbiAgICAgICAgICBza2lsbHM6IEFycmF5LmlzQXJyYXkoY291cnNlRGF0YS5za2lsbHMpIFxuICAgICAgICAgICAgPyBjb3Vyc2VEYXRhLnNraWxscy5maWx0ZXIoaXRlbSA9PiBpdGVtICYmIGl0ZW0udHJpbSgpKSBcbiAgICAgICAgICAgIDogW10gXG4gICAgICAgIH0pLFxuICAgICAgICAuLi4oY291cnNlRGF0YS5yZXF1aXJlbWVudHMgJiYgeyBcbiAgICAgICAgICByZXF1aXJlbWVudHM6IEFycmF5LmlzQXJyYXkoY291cnNlRGF0YS5yZXF1aXJlbWVudHMpIFxuICAgICAgICAgICAgPyBjb3Vyc2VEYXRhLnJlcXVpcmVtZW50cy5maWx0ZXIoaXRlbSA9PiBpdGVtICYmIGl0ZW0udHJpbSgpKSBcbiAgICAgICAgICAgIDogW10gXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBVcGRhdGUgc2x1ZyBpZiB0aXRsZSBjaGFuZ2VkXG4gICAgICAgIC4uLihjb3Vyc2VEYXRhLnRpdGxlICYmIHsgXG4gICAgICAgICAgc2x1ZzogY291cnNlRGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKS5yZXBsYWNlKC9bXmEtejAtOS1dL2csICcnKSBcbiAgICAgICAgfSlcbiAgICAgIH07XG5cbiAgICAgIC8vIENsZWFuIHRoZSBkYXRhIGJlZm9yZSBzZW5kaW5nXG4gICAgICBjb25zdCBjbGVhbmVkRGF0YSA9IGNsZWFuQ291cnNlRGF0YSh1cGRhdGVEYXRhKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIGNvdXJzZSB3aXRoIGNsZWFuZWQgZGF0YTonLCB7XG4gICAgICAgIGNvdXJzZUlkLFxuICAgICAgICBmaWVsZHNVcGRhdGVkOiBPYmplY3Qua2V5cyhjbGVhbmVkRGF0YSlcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCBjbGVhbmVkRGF0YSk7XG5cbiAgICAgIC8vIEZldGNoIHRoZSB1cGRhdGVkIGNvdXJzZVxuICAgICAgY29uc3QgdXBkYXRlZENvdXJzZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRDb3Vyc2VCeUlkKGNvdXJzZUlkKTtcbiAgICAgIFxuICAgICAgaWYgKHVwZGF0ZWRDb3Vyc2VSZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVkQ291cnNlUmVzcG9uc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgLi4uY291cnNlRGF0YSxcbiAgICAgICAgICAgIF9pZDogY291cnNlSWQsXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICB9IGFzIENvdXJzZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNvdXJzZTonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBoYW5kbGVGaXJlc3RvcmVFcnJvcihlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBEZWxldGUgY291cnNlXG4gIHN0YXRpYyBhc3luYyBkZWxldGVDb3Vyc2UoY291cnNlSWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghY291cnNlSWQgfHwgY291cnNlSWQudHJpbSgpID09PSAnJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnQ291cnNlIElEIGlzIHJlcXVpcmVkJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTl9OQU1FKSwgd2hlcmUoJ19pZCcsICc9PScsIGNvdXJzZUlkKSk7XG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgIFxuICAgICAgaWYgKHF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0NvdXJzZSBub3QgZm91bmQnXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRvY1JlZiA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXS5yZWY7XG4gICAgICBjb25zdCBjb3Vyc2VEYXRhID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcbiAgICAgIFxuICAgICAgLy8gRGVsZXRlIGFzc29jaWF0ZWQgaW1hZ2VzIGZyb20gc3RvcmFnZVxuICAgICAgaWYgKGNvdXJzZURhdGEuYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVJbWFnZShjb3Vyc2VEYXRhLmJhY2tncm91bmRJbWFnZSk7XG4gICAgICAgIH0gY2F0Y2ggKGltYWdlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBkZWxldGUgYmFja2dyb3VuZCBpbWFnZTonLCBpbWFnZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoY291cnNlRGF0YS5jZXJ0aWZpY2F0ZUltYWdlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVJbWFnZShjb3Vyc2VEYXRhLmNlcnRpZmljYXRlSW1hZ2UpO1xuICAgICAgICB9IGNhdGNoIChpbWFnZUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZGVsZXRlIGNlcnRpZmljYXRlIGltYWdlOicsIGltYWdlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGRlbGV0ZURvYyhkb2NSZWYpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnQ291cnNlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5OicsIGNvdXJzZUlkKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjb3Vyc2U6JywgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaGFuZGxlRmlyZXN0b3JlRXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gQnVsayBkZWxldGUgY291cnNlc1xuICBzdGF0aWMgYXN5bmMgZGVsZXRlQ291cnNlcyhjb3Vyc2VJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nOyBkZWxldGVkQ291bnQ/OiBudW1iZXIgfT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWNvdXJzZUlkcyB8fCBjb3Vyc2VJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdDb3Vyc2UgSURzIGFyZSByZXF1aXJlZCdcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcbiAgICAgIGxldCBkZWxldGVkQ291bnQgPSAwO1xuXG4gICAgICBmb3IgKGNvbnN0IGNvdXJzZUlkIG9mIGNvdXJzZUlkcykge1xuICAgICAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTl9OQU1FKSwgd2hlcmUoJ19pZCcsICc9PScsIGNvdXJzZUlkKSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFxdWVyeVNuYXBzaG90LmVtcHR5KSB7XG4gICAgICAgICAgY29uc3QgZG9jUmVmID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLnJlZjtcbiAgICAgICAgICBiYXRjaC5kZWxldGUoZG9jUmVmKTtcbiAgICAgICAgICBkZWxldGVkQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZGVsZXRlZENvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdObyBjb3Vyc2VzIGZvdW5kIHRvIGRlbGV0ZSdcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgYmF0Y2guY29tbWl0KCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRlbGV0ZWRDb3VudFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBidWxrIGRlbGV0aW5nIGNvdXJzZXM6JywgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaGFuZGxlRmlyZXN0b3JlRXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gVXBsb2FkIGltYWdlIHdpdGggYmV0dGVyIGVycm9yIGhhbmRsaW5nIGFuZCBvcHRpbWl6YXRpb25cbiAgc3RhdGljIGFzeW5jIHVwbG9hZEltYWdlKGZpbGU6IEZpbGUsIHBhdGg6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyB1cmw/OiBzdHJpbmc7IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVmFsaWRhdGUgZmlsZVxuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05vIGZpbGUgcHJvdmlkZWQnIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHsgLy8gNU1CIGxpbWl0XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZpbGUgc2l6ZSBtdXN0IGJlIGxlc3MgdGhhbiA1TUInIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGFsbG93ZWRUeXBlcyA9IFsnaW1hZ2UvanBlZycsICdpbWFnZS9qcGcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL3dlYnAnLCAnaW1hZ2UvZ2lmJ107XG4gICAgICBpZiAoIWFsbG93ZWRUeXBlcy5pbmNsdWRlcyhmaWxlLnR5cGUpKSB7XG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgICBlcnJvcjogJ09ubHkgSlBFRywgUE5HLCBXZWJQLCBhbmQgR0lGIGltYWdlcyBhcmUgYWxsb3dlZCcgXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBmaWxlbmFtZVxuICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJhbmRvbVN0cmluZyA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XG4gICAgICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCk/LnRvTG93ZXJDYXNlKCkgfHwgJ2pwZyc7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3RpbWVzdGFtcH1fJHtyYW5kb21TdHJpbmd9LiR7ZmlsZUV4dGVuc2lvbn1gO1xuICAgICAgXG4gICAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKHN0b3JhZ2UsIGAke3BhdGh9LyR7ZmlsZW5hbWV9YCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWRpbmcgaW1hZ2U6JywgZmlsZW5hbWUsICdTaXplOicsIGZpbGUuc2l6ZSk7XG4gICAgICBcbiAgICAgIC8vIFVwbG9hZCB3aXRoIG1ldGFkYXRhXG4gICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgY29udGVudFR5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgY3VzdG9tTWV0YWRhdGE6IHtcbiAgICAgICAgICB1cGxvYWRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgb3JpZ2luYWxOYW1lOiBmaWxlLm5hbWVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCB1cGxvYWRCeXRlcyhzdG9yYWdlUmVmLCBmaWxlLCBtZXRhZGF0YSk7XG4gICAgICBjb25zdCBkb3dubG9hZFVSTCA9IGF3YWl0IGdldERvd25sb2FkVVJMKHNuYXBzaG90LnJlZik7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHk6JywgZG93bmxvYWRVUkwpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB1cmw6IGRvd25sb2FkVVJMXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBpbWFnZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGxvYWQgaW1hZ2UnXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIERlbGV0ZSBpbWFnZSBmcm9tIHN0b3JhZ2VcbiAgc3RhdGljIGFzeW5jIGRlbGV0ZUltYWdlKGltYWdlVXJsOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWltYWdlVXJsIHx8ICFpbWFnZVVybC5pbmNsdWRlcygnZmlyZWJhc2UnKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBpbWFnZSBVUkwnXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGltYWdlUmVmID0gcmVmKHN0b3JhZ2UsIGltYWdlVXJsKTtcbiAgICAgIGF3YWl0IGRlbGV0ZU9iamVjdChpbWFnZVJlZik7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSBkZWxldGVkIHN1Y2Nlc3NmdWxseTonLCBpbWFnZVVybCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIGltYWdlJ1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgY291cnNlcyBieSBjYXRlZ29yeVxuICBzdGF0aWMgYXN5bmMgZ2V0Q291cnNlc0J5Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZywgbGltaXQ/OiBudW1iZXIpOiBQcm9taXNlPENvdXJzZXNSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWNhdGVnb3J5IHx8IGNhdGVnb3J5LnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0NhdGVnb3J5IGlzIHJlcXVpcmVkJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBsZXQgcSA9IHF1ZXJ5KFxuICAgICAgICBjb2xsZWN0aW9uKGRiLCBDT0xMRUNUSU9OX05BTUUpLFxuICAgICAgICB3aGVyZSgnY2F0ZWdvcnknLCAnPT0nLCBjYXRlZ29yeSksXG4gICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncHVibGlzaGVkJyksXG4gICAgICAgIG9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJylcbiAgICAgICk7XG5cbiAgICAgIGlmIChsaW1pdCkge1xuICAgICAgICBxID0gcXVlcnkocSwgbGltaXQobGltaXQpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNvdXJzZXM6IENvdXJzZVtdID0gW107XG4gICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgICAgY291cnNlcy5wdXNoKHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIGNyZWF0ZWRBdDogZGF0YS5jcmVhdGVkQXQ/LnRvRGF0ZSgpIHx8IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBkYXRhLnVwZGF0ZWRBdD8udG9EYXRlKCkgfHwgbmV3IERhdGUoKVxuICAgICAgICB9IGFzIENvdXJzZSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogY291cnNlc1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb3Vyc2VzIGJ5IGNhdGVnb3J5OicsIGVycm9yKTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGhhbmRsZUZpcmVzdG9yZUVycm9yKGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBwdWJsaXNoZWQgY291cnNlcyBvbmx5XG4gIHN0YXRpYyBhc3luYyBnZXRQdWJsaXNoZWRDb3Vyc2VzKGxpbWl0PzogbnVtYmVyKTogUHJvbWlzZTxDb3Vyc2VzUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5nZXRBbGxDb3Vyc2VzKHsgXG4gICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLCBcbiAgICAgIGxpbWl0OiBsaW1pdCB8fCA1MCBcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEdldCBkcmFmdCBjb3Vyc2VzIG9ubHlcbiAgc3RhdGljIGFzeW5jIGdldERyYWZ0Q291cnNlcyhsaW1pdD86IG51bWJlcik6IFByb21pc2U8Q291cnNlc1Jlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWxsQ291cnNlcyh7IFxuICAgICAgc3RhdHVzOiAnZHJhZnQnLCBcbiAgICAgIGxpbWl0OiBsaW1pdCB8fCA1MCBcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFNlYXJjaCBjb3Vyc2VzXG4gIHN0YXRpYyBhc3luYyBzZWFyY2hDb3Vyc2VzKHNlYXJjaFRlcm06IHN0cmluZywgb3B0aW9ucz86IHtcbiAgICBsaW1pdD86IG51bWJlcjtcbiAgICBjYXRlZ29yeT86IHN0cmluZztcbiAgICBsZXZlbD86IHN0cmluZztcbiAgICBzdGF0dXM/OiAnZHJhZnQnIHwgJ3B1Ymxpc2hlZCc7XG4gIH0pOiBQcm9taXNlPENvdXJzZXNSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXNlYXJjaFRlcm0gfHwgc2VhcmNoVGVybS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbENvdXJzZXMob3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmdldEFsbENvdXJzZXMoe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBzZWFyY2hUZXJtOiBzZWFyY2hUZXJtLnRyaW0oKVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VhcmNoaW5nIGNvdXJzZXM6JywgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaGFuZGxlRmlyZXN0b3JlRXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGNvdXJzZSBzdGF0aXN0aWNzXG4gIHN0YXRpYyBhc3luYyBnZXRDb3Vyc2VTdGF0cygpOiBQcm9taXNlPHtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgIGRhdGE/OiB7XG4gICAgICB0b3RhbENvdXJzZXM6IG51bWJlcjtcbiAgICAgIHB1Ymxpc2hlZENvdXJzZXM6IG51bWJlcjtcbiAgICAgIGRyYWZ0Q291cnNlczogbnVtYmVyO1xuICAgICAgdG90YWxTdHVkZW50czogbnVtYmVyO1xuICAgICAgdG90YWxSZXZlbnVlOiBudW1iZXI7XG4gICAgICBjYXRlZ29yaWVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICAgICAgbGV2ZWxzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICAgIH07XG4gICAgZXJyb3I/OiBzdHJpbmc7XG4gIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldEFsbENvdXJzZXMoKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzIHx8ICFyZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHJlc3BvbnNlLmVycm9yIHx8ICdGYWlsZWQgdG8gZmV0Y2ggY291cnNlcyBmb3Igc3RhdGlzdGljcydcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY291cnNlcyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICBjb25zdCBzdGF0cyA9IHtcbiAgICAgICAgdG90YWxDb3Vyc2VzOiBjb3Vyc2VzLmxlbmd0aCxcbiAgICAgICAgcHVibGlzaGVkQ291cnNlczogY291cnNlcy5maWx0ZXIoYyA9PiBjLnN0YXR1cyA9PT0gJ3B1Ymxpc2hlZCcpLmxlbmd0aCxcbiAgICAgICAgZHJhZnRDb3Vyc2VzOiBjb3Vyc2VzLmZpbHRlcihjID0+IGMuc3RhdHVzID09PSAnZHJhZnQnKS5sZW5ndGgsXG4gICAgICAgIHRvdGFsU3R1ZGVudHM6IGNvdXJzZXMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIChjLmVucm9sbGVkU3R1ZGVudHMgfHwgMCksIDApLFxuICAgICAgICB0b3RhbFJldmVudWU6IGNvdXJzZXMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArICgoYy5wcmljZSB8fCAwKSAqIChjLmVucm9sbGVkU3R1ZGVudHMgfHwgMCkpLCAwKSxcbiAgICAgICAgY2F0ZWdvcmllczoge30gYXMgeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSxcbiAgICAgICAgbGV2ZWxzOiB7fSBhcyB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9XG4gICAgICB9O1xuXG4gICAgICAvLyBDYWxjdWxhdGUgY2F0ZWdvcnkgZGlzdHJpYnV0aW9uXG4gICAgICBjb3Vyc2VzLmZvckVhY2goY291cnNlID0+IHtcbiAgICAgICAgaWYgKGNvdXJzZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHN0YXRzLmNhdGVnb3JpZXNbY291cnNlLmNhdGVnb3J5XSA9IChzdGF0cy5jYXRlZ29yaWVzW2NvdXJzZS5jYXRlZ29yeV0gfHwgMCkgKyAxO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIGxldmVsIGRpc3RyaWJ1dGlvblxuICAgICAgY291cnNlcy5mb3JFYWNoKGNvdXJzZSA9PiB7XG4gICAgICAgIGlmIChjb3Vyc2UubGV2ZWwpIHtcbiAgICAgICAgICBzdGF0cy5sZXZlbHNbY291cnNlLmxldmVsXSA9IChzdGF0cy5sZXZlbHNbY291cnNlLmxldmVsXSB8fCAwKSArIDE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBzdGF0c1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb3Vyc2Ugc3RhdGlzdGljczonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBoYW5kbGVGaXJlc3RvcmVFcnJvcihlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgY291cnNlIHN0YXR1cyAocHVibGlzaC91bnB1Ymxpc2gpXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVDb3Vyc2VTdGF0dXMoY291cnNlSWQ6IHN0cmluZywgc3RhdHVzOiAnZHJhZnQnIHwgJ3B1Ymxpc2hlZCcpOiBQcm9taXNlPENvdXJzZVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghY291cnNlSWQgfHwgY291cnNlSWQudHJpbSgpID09PSAnJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnQ291cnNlIElEIGlzIHJlcXVpcmVkJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoIVsnZHJhZnQnLCAncHVibGlzaGVkJ10uaW5jbHVkZXMoc3RhdHVzKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnU3RhdHVzIG11c3QgYmUgZWl0aGVyIFwiZHJhZnRcIiBvciBcInB1Ymxpc2hlZFwiJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVDb3Vyc2UoY291cnNlSWQsIHsgXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgY291cnNlIHN0YXR1czonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBoYW5kbGVGaXJlc3RvcmVFcnJvcihlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBEdXBsaWNhdGUgY291cnNlXG4gIHN0YXRpYyBhc3luYyBkdXBsaWNhdGVDb3Vyc2UoY291cnNlSWQ6IHN0cmluZywgbmV3VGl0bGU/OiBzdHJpbmcpOiBQcm9taXNlPENvdXJzZVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsQ291cnNlID0gYXdhaXQgdGhpcy5nZXRDb3Vyc2VCeUlkKGNvdXJzZUlkKTtcbiAgICAgIFxuICAgICAgaWYgKCFvcmlnaW5hbENvdXJzZS5zdWNjZXNzIHx8ICFvcmlnaW5hbENvdXJzZS5kYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG9yaWdpbmFsQ291cnNlLmVycm9yIHx8ICdPcmlnaW5hbCBjb3Vyc2Ugbm90IGZvdW5kJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb3Vyc2UgPSBvcmlnaW5hbENvdXJzZS5kYXRhO1xuICAgICAgY29uc3QgZHVwbGljYXRlZENvdXJzZTogTmV3Q291cnNlID0ge1xuICAgICAgICAuLi5jb3Vyc2UsXG4gICAgICAgIHRpdGxlOiBuZXdUaXRsZSB8fCBgJHtjb3Vyc2UudGl0bGV9IChDb3B5KWAsXG4gICAgICAgIHNsdWc6IChuZXdUaXRsZSB8fCBgJHtjb3Vyc2UudGl0bGV9IChDb3B5KWApLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpLnJlcGxhY2UoL1teYS16MC05LV0vZywgJycpLFxuICAgICAgICBzdGF0dXM6ICdkcmFmdCcsXG4gICAgICAgIGVucm9sbGVkU3R1ZGVudHM6IDAsXG4gICAgICAgIHJhdGluZzogMCxcbiAgICAgICAgdG90YWxSYXRpbmdzOiAwLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuXG4gICAgICAvLyBSZW1vdmUgZmllbGRzIHRoYXQgc2hvdWxkbid0IGJlIGR1cGxpY2F0ZWRcbiAgICAgIGRlbGV0ZSAoZHVwbGljYXRlZENvdXJzZSBhcyBhbnkpLl9pZDtcbiAgICAgIGRlbGV0ZSAoZHVwbGljYXRlZENvdXJzZSBhcyBhbnkpLmNyZWF0ZWRBdDtcbiAgICAgIGRlbGV0ZSAoZHVwbGljYXRlZENvdXJzZSBhcyBhbnkpLnVwZGF0ZWRBdDtcblxuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ291cnNlKGR1cGxpY2F0ZWRDb3Vyc2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cGxpY2F0aW5nIGNvdXJzZTonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBoYW5kbGVGaXJlc3RvcmVFcnJvcihlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsiY29sbGVjdGlvbiIsImFkZERvYyIsInVwZGF0ZURvYyIsImRlbGV0ZURvYyIsImdldERvY3MiLCJxdWVyeSIsIm9yZGVyQnkiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJ3aGVyZSIsIndyaXRlQmF0Y2giLCJsaW1pdCIsInN0YXJ0QWZ0ZXIiLCJyZWYiLCJ1cGxvYWRCeXRlcyIsImdldERvd25sb2FkVVJMIiwiZGVsZXRlT2JqZWN0IiwiZGIiLCJzdG9yYWdlIiwiaGFuZGxlRmlyZXN0b3JlRXJyb3IiLCJ2NCIsInV1aWR2NCIsIkNPTExFQ1RJT05fTkFNRSIsImNsZWFuQ291cnNlRGF0YSIsImRhdGEiLCJjbGVhbmVkIiwia2V5IiwidmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwidW5kZWZpbmVkIiwiaW5jbHVkZXMiLCJBcnJheSIsImlzQXJyYXkiLCJmaWx0ZXIiLCJpdGVtIiwidHJpbSIsImNvbnN0cnVjdG9yIiwidmFsaWRhdGVDb3Vyc2VEYXRhIiwiY291cnNlRGF0YSIsImVycm9ycyIsInRpdGxlIiwibGVuZ3RoIiwicHVzaCIsInNob3J0RGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImxldmVsIiwibGFuZ3VhZ2UiLCJkdXJhdGlvbiIsImhvdXJzIiwicHJpY2UiLCJpc05hTiIsIm9yaWdpbmFsUHJpY2UiLCJpc1ZhbGlkIiwiQ291cnNlU2VydmljZSIsImNyZWF0ZUNvdXJzZSIsInZhbGlkYXRpb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJqb2luIiwiY291cnNlSWQiLCJjb3Vyc2VXaXRoTWV0YWRhdGEiLCJfaWQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJzdGF0dXMiLCJyYXRpbmciLCJOdW1iZXIiLCJ0b3RhbFJhdGluZ3MiLCJlbnJvbGxlZFN0dWRlbnRzIiwibGVhcm5pbmdPdXRjb21lcyIsImZlYXR1cmVzIiwic2tpbGxzIiwicmVxdWlyZW1lbnRzIiwibW9kdWxlIiwiaGlnaGxpZ2h0cyIsInByb2plY3QiLCJwcm9ncmFtRm9yIiwic2x1ZyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsInByb2dyYW1CeSIsImxhc3RVcGRhdGVkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicGF5bWVudExpbmsiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJjZXJ0aWZpY2F0ZUltYWdlIiwiZ2xvYmFsU3RhdHVzIiwic3RhcnREYXRlIiwidG9vbHNEYXRhIiwic2VjdGlvblRpdGxlIiwidG9vbHNDb3VudCIsImRpc3BsYXlJbWFnZSIsInRvb2xzIiwiY2xlYW5lZERhdGEiLCJjb25zb2xlIiwibG9nIiwiZG9jUmVmIiwiY3JlYXRlZENvdXJzZSIsImVycm9yTWVzc2FnZSIsImdldEFsbENvdXJzZXMiLCJvcHRpb25zIiwicSIsImxhc3REb2MiLCJxdWVyeVNuYXBzaG90IiwiY291cnNlcyIsImZvckVhY2giLCJkb2MiLCJjb3Vyc2UiLCJ0b0RhdGUiLCJzZWFyY2hUZXJtIiwic2VhcmNoTG93ZXIiLCJtYXRjaGVzU2VhcmNoIiwicGFnaW5hdGlvbiIsInRvdGFsIiwicGFnZSIsInBhZ2VzIiwiZ2V0Q291cnNlQnlJZCIsImVtcHR5IiwiZG9jcyIsImdldENvdXJzZUJ5U2x1ZyIsInVwZGF0ZUNvdXJzZSIsInVwZGF0ZURhdGEiLCJmaWVsZHNVcGRhdGVkIiwia2V5cyIsInVwZGF0ZWRDb3Vyc2VSZXNwb25zZSIsImRlbGV0ZUNvdXJzZSIsImRlbGV0ZUltYWdlIiwiaW1hZ2VFcnJvciIsIndhcm4iLCJkZWxldGVDb3Vyc2VzIiwiY291cnNlSWRzIiwiYmF0Y2giLCJkZWxldGVkQ291bnQiLCJkZWxldGUiLCJjb21taXQiLCJ1cGxvYWRJbWFnZSIsImZpbGUiLCJwYXRoIiwic2l6ZSIsImFsbG93ZWRUeXBlcyIsInR5cGUiLCJ0aW1lc3RhbXAiLCJub3ciLCJyYW5kb21TdHJpbmciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJmaWxlRXh0ZW5zaW9uIiwibmFtZSIsInNwbGl0IiwicG9wIiwiZmlsZW5hbWUiLCJzdG9yYWdlUmVmIiwibWV0YWRhdGEiLCJjb250ZW50VHlwZSIsImN1c3RvbU1ldGFkYXRhIiwidXBsb2FkZWRBdCIsIm9yaWdpbmFsTmFtZSIsInNuYXBzaG90IiwiZG93bmxvYWRVUkwiLCJ1cmwiLCJtZXNzYWdlIiwiaW1hZ2VVcmwiLCJpbWFnZVJlZiIsImdldENvdXJzZXNCeUNhdGVnb3J5IiwiZ2V0UHVibGlzaGVkQ291cnNlcyIsImdldERyYWZ0Q291cnNlcyIsInNlYXJjaENvdXJzZXMiLCJnZXRDb3Vyc2VTdGF0cyIsInJlc3BvbnNlIiwic3RhdHMiLCJ0b3RhbENvdXJzZXMiLCJwdWJsaXNoZWRDb3Vyc2VzIiwiYyIsImRyYWZ0Q291cnNlcyIsInRvdGFsU3R1ZGVudHMiLCJyZWR1Y2UiLCJzdW0iLCJ0b3RhbFJldmVudWUiLCJjYXRlZ29yaWVzIiwibGV2ZWxzIiwidXBkYXRlQ291cnNlU3RhdHVzIiwiZHVwbGljYXRlQ291cnNlIiwibmV3VGl0bGUiLCJvcmlnaW5hbENvdXJzZSIsImR1cGxpY2F0ZWRDb3Vyc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/courseService.ts\n"));

/***/ })

});